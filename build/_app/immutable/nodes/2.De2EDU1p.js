import{k as Xt,l as er,o as Ot,p as Kt,a as p,c as it,t as y,q as W,s as R,r as tr}from"../chunks/DaN96dIN.js";import{i as Ie}from"../chunks/idI3UDRs.js";import{h as Ce,a as zt,d as St,b as rr,E as lr,c as ar,aL as sr,ae as or,af as dr,P as Tt,O as Ut,H as ir,p as nr,Q as cr,ao as vr,aM as ur,u as Ht,r as Rt,f as Oe,j as r,s as l,k as t,t as ie,$ as je,i as Ke,g as Ue,w as e,aN as Y,aO as Ee,F as _,aP as he,ab as Wt,aQ as Et,x as br,aR as Ft,aS as gr}from"../chunks/DDLtgsC2.js";import{l as dt,p as A,s as Nt,i as S}from"../chunks/D_Rvj4zC.js";import{e as pt,i as xt,s as mt,a as It,r as T,b as B,t as Xe}from"../chunks/B8pF-tgs.js";import"../chunks/B95x3teY.js";function fr(u,d,a,b,g,h){let v=Ce;Ce&&zt();var s,w,n=null;Ce&&St.nodeType===1&&(n=St,zt());var M=Ce?St:u,C;rr(()=>{const $=d()||null;var O=sr;$!==s&&(C&&($===null?nr(C,()=>{C=null,w=null}):$===w?cr(C):vr(C)),$&&$!==w&&(C=ar(()=>{if(n=Ce?n:document.createElementNS(O,$),Xt(n,n),b){Ce&&er($)&&n.append(document.createComment(""));var j=Ce?or(n):n.appendChild(dr());Ce&&(j===null?Tt(!1):Ut(j)),b(n,j)}ir.nodes_end=n,M.before(n)})),s=$,s&&(w=s))},lr),v&&(Tt(!0),Ut(M))}function H(u,d,a=d){var b=ur();Ot(u,"input",g=>{var h=g?u.defaultValue:u.value;if(h=Mt(u)?Ct(h):h,a(h),b&&h!==(h=d())){var v=u.selectionStart,s=u.selectionEnd;u.value=h??"",s!==null&&(u.selectionStart=v,u.selectionEnd=Math.min(s,u.value.length))}}),(Ce&&u.defaultValue!==u.value||Ht(d)==null&&u.value)&&a(Mt(u)?Ct(u.value):u.value),Rt(()=>{var g=d();Mt(u)&&g===Ct(u.value)||u.type==="date"&&!g&&!u.value||g!==u.value&&(u.value=g??"")})}function ft(u,d,a=d){Ot(u,"change",b=>{var g=b?u.defaultChecked:u.checked;a(g)}),(Ce&&u.defaultChecked!==u.checked||Ht(d)==null)&&a(u.checked),Rt(()=>{var b=d();u.checked=!!b})}function Mt(u){var d=u.type;return d==="number"||d==="range"}function Ct(u){return u===""?null:+u}function pr(u){return function(...d){var a=d[0];return a.stopPropagation(),u==null?void 0:u.apply(this,d)}}/**
 * @license lucide-svelte v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var mr=Kt("<svg><!><!></svg>");function $t(u,d){const a=dt(d,["children","$$slots","$$events","$$legacy"]),b=dt(a,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Oe(d,!1);let g=A(d,"name",8,void 0),h=A(d,"color",8,"currentColor"),v=A(d,"size",8,24),s=A(d,"strokeWidth",8,2),w=A(d,"absoluteStrokeWidth",8,!1),n=A(d,"iconNode",24,()=>[]);const M=(...k)=>k.filter((I,P,K)=>!!I&&K.indexOf(I)===P).join(" ");Ie();var C=mr();let $;var O=r(C);pt(O,1,n,xt,(k,I)=>{let P=()=>e(I)[0],K=()=>e(I)[1];var Z=it(),Q=Ue(Z);fr(Q,P,!0,(ce,be)=>{let q;ie(()=>q=It(ce,q,{...K()}))}),p(k,Z)});var j=l(O);mt(j,d,"default",{},null),t(C),ie((k,I)=>$=It(C,$,{...xr,...b,width:v(),height:v(),stroke:h(),"stroke-width":k,class:I}),[()=>w()?Number(s())*24/Number(v()):s(),()=>M("lucide-icon","lucide",g()?`lucide-${g()}`:"",a.class)],je),p(u,C),Ke()}function yr(u,d){const a=dt(d,["children","$$slots","$$events","$$legacy"]);$t(u,Nt({name:"circle-plus"},()=>a,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(g,h)=>{var v=it(),s=Ue(v);mt(s,d,"default",{},null),p(g,v)},$$slots:{default:!0}}))}function hr(u,d){const a=dt(d,["children","$$slots","$$events","$$legacy"]);$t(u,Nt({name:"folder-sync"},()=>a,{iconNode:[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5"}],["path",{d:"M12 10v4h4"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5"}],["path",{d:"M22 22v-4h-4"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5"}]],children:(g,h)=>{var v=it(),s=Ue(v);mt(s,d,"default",{},null),p(g,v)},$$slots:{default:!0}}))}function Vt(u,d){const a=dt(d,["children","$$slots","$$events","$$legacy"]);$t(u,Nt({name:"printer"},()=>a,{iconNode:[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]],children:(g,h)=>{var v=it(),s=Ue(v);mt(s,d,"default",{},null),p(g,v)},$$slots:{default:!0}}))}const yt="http://printpi:8080";var wr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),_r=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),kr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Pr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Sr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Mr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Cr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Er=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Nr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),$r=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),jr=y('<svg class=" animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Adding...</span>',1),Lr=y('<span class="text-white">Add Product</span>'),Br=y(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Add Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                        but you may want to review them before saving.</p></div></div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button><!></button></div></div></div>`);function Ar(u,d){Oe(d,!1),A(d,"saveEditedProduct",8);let a=A(d,"showAddProductModal",12),b=A(d,"products",8),g=Y(!1);function h(o){const N=o.match(/^([A-Za-z\s]*)(\d+)([A-Za-z]*)$/);if(!N)return console.error("Invalid SKU format:",o),o;const at=N[1],st=parseInt(N[2],10),Te=N[3],Qe=st+1;return`${at}${Qe}${Te}`}let v=b()[b().length-1].sku;console.log(v);let s=Y({id:h(v),name:"",price:0,imSKU:"",sku:h(v),purchasePrice:0,seller:"",dateBought:"",sold:!1,commission:0,dateSold:"",invoiceNo:"",onWebsite:!1,location:""});async function w(){_(g,!0);try{const o=await fetch(yt+"/add_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({product:e(s)})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const N=await o.json();Xe.success("Product added successfully!"),a(!1)}catch(o){console.error("Failed to add product:",o),Xe.error("Failed to add product. Please try again.")}finally{_(g,!1)}}function n(o){return o===""||o===0||o===null||o===void 0}Ie();var M=Br(),C=r(M),$=r(C),O=l(r($),2);t($);var j=l($,2),k=r(j),I=r(k),P=r(I),K=l(r(P),2);T(K),B(K,1,"border-gray-300 bg-gray-100 text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed"),t(P);var Z=l(P,2),Q=r(Z),ce=l(r(Q),2);{var be=o=>{var N=wr();p(o,N)};S(ce,o=>{n(e(s).imSKU)&&o(be)})}t(Q);var q=l(Q,2);T(q),t(Z),t(I);var F=l(I,2),V=r(F),ge=l(r(V),2);{var we=o=>{var N=_r();p(o,N)};S(ge,o=>{n(e(s).name)&&o(we)})}t(V);var G=l(V,2);T(G),t(F);var xe=l(F,2),E=r(xe),x=r(E),z=l(r(x),2);{var me=o=>{var N=kr();p(o,N)};S(z,o=>{e(s).price===0&&o(me)})}t(x);var fe=l(x,2);T(fe),t(E);var X=l(E,2),ee=r(X),c=l(r(ee),2);{var m=o=>{var N=Pr();p(o,N)};S(c,o=>{e(s).purchasePrice===0&&o(m)})}t(ee);var f=l(ee,2);T(f),t(X),t(xe);var U=l(xe,2),D=r(U),te=r(D),re=l(r(te),2);{var se=o=>{var N=Sr();p(o,N)};S(re,o=>{n(e(s).seller)&&o(se)})}t(te);var oe=l(te,2);T(oe),t(D);var ve=l(D,2),de=r(ve),le=l(r(de),2);{var ue=o=>{var N=Mr();p(o,N)};S(le,o=>{n(e(s).location)&&o(ue)})}t(de);var Se=l(de,2);T(Se),t(ve),t(U);var Me=l(U,2),pe=r(Me),_e=r(pe),Ne=l(r(_e),2);{var Le=o=>{var N=Cr();p(o,N)};S(Ne,o=>{n(e(s).dateBought)&&o(Le)})}t(_e);var Be=l(_e,2);T(Be),t(pe);var De=l(pe,2),ke=r(De),Je=l(r(ke),2);{var He=o=>{var N=Er();p(o,N)};S(Je,o=>{n(e(s).dateSold)&&o(He)})}t(ke);var L=l(ke,2);T(L),t(De),t(Me);var ne=l(Me,2),ae=r(ne),ye=r(ae),Re=l(r(ye),2);{var We=o=>{var N=Nr();p(o,N)};S(Re,o=>{e(s).commission===0&&o(We)})}t(ye);var Fe=l(ye,2);T(Fe),t(ae);var Ae=l(ae,2),Pe=r(Ae),nt=l(r(Pe),2);{var et=o=>{var N=$r();p(o,N)};S(nt,o=>{n(e(s).invoiceNo)&&o(et)})}t(Pe);var tt=l(Pe,2);T(tt),t(Ae),t(ne);var ct=l(ne,2),ze=r(ct),Ze=l(r(ze),2),qe=r(Ze);T(qe),Ee(2),t(Ze),t(ze);var Ge=l(ze,2),vt=l(r(Ge),2),ut=r(vt);T(ut),Ee(2),t(vt),t(Ge),t(ct),Ee(2),t(k),t(j);var Ve=l(j,2),rt=r(Ve),$e=l(rt,2);let bt;var ht=r($e);{var Ye=o=>{var N=jr();Ee(2),p(o,N)},lt=o=>{var N=Lr();p(o,N)};S(ht,o=>{e(g)?o(Ye):o(lt,!1)})}t($e),t(Ve),t(C),t(M),ie((o,N,at,st,Te,Qe,ot,wt)=>{B(q,1,o),B(G,1,N),B(fe,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(s).price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),B(f,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(s).purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),B(oe,1,at),B(Se,1,st),B(Be,1,Te),B(L,1,Qe),B(Fe,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(s).commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),B(tt,1,ot),bt=B($e,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed",null,bt,wt),$e.disabled=e(g)},[()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(s).imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                            ${n(e(s).name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(s).seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(s).location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(s).dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(s).dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(s).invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>({"bg-blue-600":!e(g),"bg-gray-400":e(g),"hover:bg-blue-700":!e(g)})],je),W("click",O,()=>{a(!1)}),H(K,()=>e(s).sku,o=>he(s,e(s).sku=o)),H(q,()=>e(s).imSKU,o=>he(s,e(s).imSKU=o)),H(G,()=>e(s).name,o=>he(s,e(s).name=o)),H(fe,()=>e(s).price,o=>he(s,e(s).price=o)),H(f,()=>e(s).purchasePrice,o=>he(s,e(s).purchasePrice=o)),H(oe,()=>e(s).seller,o=>he(s,e(s).seller=o)),H(Se,()=>e(s).location,o=>he(s,e(s).location=o)),H(Be,()=>e(s).dateBought,o=>he(s,e(s).dateBought=o)),H(L,()=>e(s).dateSold,o=>he(s,e(s).dateSold=o)),H(Fe,()=>e(s).commission,o=>he(s,e(s).commission=o)),H(tt,()=>e(s).invoiceNo,o=>he(s,e(s).invoiceNo=o)),ft(qe,()=>e(s).onWebsite,o=>he(s,e(s).onWebsite=o)),ft(ut,()=>e(s).sold,o=>he(s,e(s).sold=o)),W("click",rt,()=>{a(!1)}),W("click",$e,w),p(u,M),Ke()}var zr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Tr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Ur=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Ir=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Or=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Kr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Hr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Rr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Wr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Fr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Vr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Dr=y(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label> <!></div> <input type="text" disabled></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded svelte-1mfa054"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded svelte-1mfa054"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg svelte-1mfa054"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                                but you may want to review them before saving.</p></div></div>`),Jr=y('<div class="bg-gray-50 p-4 rounded-lg mb-4"><div class="flex items-center"><svg class="w-5 h-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg> <h3 class="font-medium">Label Preview</h3></div> <p class="text-sm text-gray-600 mt-1">This is a preview of how the label will look</p></div> <div class="border border-gray-300 rounded-lg p-6 max-w-xs mx-auto"><div class="text-center mb-4"><div class="text-xl font-bold">Iain Marr Antiques</div> <div class="text-xs text-gray-500">Est. 1990</div></div> <div class="text-center mb-2"><div class="font-semibold text-lg"> </div> <div class="text-2xl font-bold text-blue-700"> </div></div> <div class="flex justify-between text-xs mt-4"><div> </div> <div> </div></div> <div class="mt-6 text-center text-xs text-gray-500"><div> </div> <div> </div></div></div>',1),Zr=y('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white svelte-1mfa054" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Saving...</span>',1),qr=y('<span class="text-white">Save Changes</span>'),Gr=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600 svelte-1mfa054"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="border-b"><div class="flex"><button>Product Details</button> <button>Print Preview</button></div></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 svelte-1mfa054">Cancel</button> <button><!></button></div></div></div>');function Yr(u,d){Oe(d,!1);let a=A(d,"editedProduct",12),b=A(d,"showEditProductModal",12),g=A(d,"activeTab",12),h=A(d,"products",12),v=Y(!1),s=Y(null);function w(E){return E===""||E===0||E===null||E===void 0}function n(){return JSON.stringify(e(s))!==JSON.stringify(a())}async function M(E){try{const x=await fetch(yt+"/modify_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({editedProduct:E})});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);return await x.json()}catch(x){throw console.error("Failed to update product:",x),new Error("Failed to update product. Please try again later.")}}async function C(){if(n()){_(v,!0);try{await M(a()),h(h().map(E=>E.id===a().id?a():E)),_(s,JSON.parse(JSON.stringify(a()))),Xe.success("Product updated successfully!"),b(!1)}catch(E){console.error("Save error:",E),Xe.error(E.message||"Failed to update product","error")}finally{_(v,!1)}}}Wt(()=>{a()&&(_(s,JSON.parse(JSON.stringify(a()))),console.log(e(s)))}),Et(()=>(br(a()),e(s)),()=>{a()&&!e(s)&&_(s,JSON.parse(JSON.stringify(a())))}),Ft(),Ie();var $=Gr(),O=r($),j=r(O),k=l(r(j),2);t(j);var I=l(j,2),P=r(I),K=r(P),Z=l(K,2);t(P),t(I);var Q=l(I,2),ce=r(Q);{var be=E=>{var x=it(),z=Ue(x);{var me=X=>{var ee=Dr(),c=r(ee),m=r(c),f=r(m),U=l(r(f),2);{var D=i=>{var J=zr();p(i,J)};S(U,i=>{w(a().sku)&&i(D)})}t(f);var te=l(f,2);T(te),t(m);var re=l(m,2),se=r(re),oe=l(r(se),2);{var ve=i=>{var J=Tr();p(i,J)};S(oe,i=>{w(a().imSKU)&&i(ve)})}t(se);var de=l(se,2);T(de),t(re),t(c);var le=l(c,2),ue=r(le),Se=l(r(ue),2);{var Me=i=>{var J=Ur();p(i,J)};S(Se,i=>{w(a().name)&&i(Me)})}t(ue);var pe=l(ue,2);T(pe),t(le);var _e=l(le,2),Ne=r(_e),Le=r(Ne),Be=l(r(Le),2);{var De=i=>{var J=Ir();p(i,J)};S(Be,i=>{a().price===0&&i(De)})}t(Le);var ke=l(Le,2);T(ke),t(Ne);var Je=l(Ne,2),He=r(Je),L=l(r(He),2);{var ne=i=>{var J=Or();p(i,J)};S(L,i=>{a().purchasePrice===0&&i(ne)})}t(He);var ae=l(He,2);T(ae),t(Je),t(_e);var ye=l(_e,2),Re=r(ye),We=r(Re),Fe=l(r(We),2);{var Ae=i=>{var J=Kr();p(i,J)};S(Fe,i=>{w(a().seller)&&i(Ae)})}t(We);var Pe=l(We,2);T(Pe),t(Re);var nt=l(Re,2),et=r(nt),tt=l(r(et),2);{var ct=i=>{var J=Hr();p(i,J)};S(tt,i=>{w(a().location)&&i(ct)})}t(et);var ze=l(et,2);T(ze),t(nt),t(ye);var Ze=l(ye,2),qe=r(Ze),Ge=r(qe),vt=l(r(Ge),2);{var ut=i=>{var J=Rr();p(i,J)};S(vt,i=>{w(a().dateBought)&&i(ut)})}t(Ge);var Ve=l(Ge,2);T(Ve),t(qe);var rt=l(qe,2),$e=r(rt),bt=l(r($e),2);{var ht=i=>{var J=Wr();p(i,J)};S(bt,i=>{w(a().dateSold)&&i(ht)})}t($e);var Ye=l($e,2);T(Ye),t(rt),t(Ze);var lt=l(Ze,2),o=r(lt),N=r(o),at=l(r(N),2);{var st=i=>{var J=Fr();p(i,J)};S(at,i=>{a().commission===0&&i(st)})}t(N);var Te=l(N,2);T(Te),t(o);var Qe=l(o,2),ot=r(Qe),wt=l(r(ot),2);{var Dt=i=>{var J=Vr();p(i,J)};S(wt,i=>{w(a().invoiceNo)&&i(Dt)})}t(ot);var gt=l(ot,2);T(gt),t(Qe),t(lt);var jt=l(lt,2),_t=r(jt),Lt=l(r(_t),2),kt=r(Lt);T(kt),Ee(2),t(Lt),t(_t);var Bt=l(_t,2),At=l(r(Bt),2),Pt=r(At);T(Pt),Ee(2),t(At),t(Bt),t(jt),Ee(2),t(ee),ie((i,J,Jt,Zt,qt,Gt,Yt,Qt)=>{B(te,1,i,"svelte-1mfa054"),B(de,1,J,"svelte-1mfa054"),de.disabled=e(v),B(pe,1,Jt,"svelte-1mfa054"),pe.disabled=e(v),B(ke,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),ke.disabled=e(v),B(ae,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),ae.disabled=e(v),B(Pe,1,Zt,"svelte-1mfa054"),Pe.disabled=e(v),B(ze,1,qt,"svelte-1mfa054"),ze.disabled=e(v),B(Ve,1,Gt,"svelte-1mfa054"),Ve.disabled=e(v),B(Ye,1,Yt,"svelte-1mfa054"),Ye.disabled=e(v),B(Te,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),Te.disabled=e(v),B(gt,1,Qt,"svelte-1mfa054"),gt.disabled=e(v),kt.disabled=e(v),Pt.disabled=e(v)},[()=>`text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed
                                        ${w(a().sku)?"border-yellow-400 bg-yellow-50":"border-gray-300 bg-gray-100"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${w(a().imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                    ${w(a().name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${w(a().seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${w(a().location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${w(a().dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${w(a().dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${w(a().invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`],je),H(te,()=>a().sku,i=>a(a().sku=i,!0)),H(de,()=>a().imSKU,i=>a(a().imSKU=i,!0)),H(pe,()=>a().name,i=>a(a().name=i,!0)),H(ke,()=>a().price,i=>a(a().price=i,!0)),H(ae,()=>a().purchasePrice,i=>a(a().purchasePrice=i,!0)),H(Pe,()=>a().seller,i=>a(a().seller=i,!0)),H(ze,()=>a().location,i=>a(a().location=i,!0)),H(Ve,()=>a().dateBought,i=>a(a().dateBought=i,!0)),H(Ye,()=>a().dateSold,i=>a(a().dateSold=i,!0)),H(Te,()=>a().commission,i=>a(a().commission=i,!0)),H(gt,()=>a().invoiceNo,i=>a(a().invoiceNo=i,!0)),ft(kt,()=>a().onWebsite,i=>a(a().onWebsite=i,!0)),ft(Pt,()=>a().sold,i=>a(a().sold=i,!0)),p(X,ee)},fe=X=>{var ee=Jr(),c=l(Ue(ee),2),m=l(r(c),2),f=r(m),U=r(f,!0);t(f);var D=l(f,2),te=r(D);t(D),t(m);var re=l(m,2),se=r(re),oe=r(se);t(se);var ve=l(se,2),de=r(ve);t(ve),t(re);var le=l(re,2),ue=r(le),Se=r(ue,!0);t(ue);var Me=l(ue,2),pe=r(Me,!0);t(Me),t(le),t(c),ie((_e,Ne)=>{R(U,a().name),R(te,`£${_e??""}`),R(oe,`SKU: ${a().sku??""}`),R(de,`IM: ${a().imSKU??""}`),R(Se,a().location),R(pe,Ne)},[()=>a().price.toFixed(2),()=>new Date().toLocaleDateString("en-GB")],je),p(X,ee)};S(z,X=>{g()==="products"?X(me):X(fe,!1)})}p(E,x)};S(ce,E=>{a()&&E(be)})}t(Q);var q=l(Q,2),F=r(q),V=l(F,2);let ge;var we=r(V);{var G=E=>{var x=Zr();Ee(2),p(E,x)},xe=E=>{var x=qr();p(E,x)};S(we,E=>{e(v)?E(G):E(xe,!1)})}t(V),t(q),t(O),t($),ie((E,x)=>{k.disabled=e(v),B(K,1,`px-6 py-3 font-medium text-sm ${g()==="products"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,"svelte-1mfa054"),K.disabled=e(v),B(Z,1,`px-6 py-3 font-medium text-sm ${g()==="print"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,"svelte-1mfa054"),Z.disabled=!a()||e(v),F.disabled=e(v),ge=B(V,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed svelte-1mfa054",null,ge,E),V.disabled=x},[()=>({"bg-blue-600":!e(v)&&n(),"bg-gray-400":!n()||e(v),"hover:bg-blue-700":!e(v)&&n()}),()=>!n()||e(v)],je),W("click",k,()=>{b(!1)}),W("click",K,()=>g("products")),W("click",Z,()=>g("print")),W("click",F,()=>{b(!1)}),W("click",V,C),p(u,$),Ke()}var Qr=y('<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">SKU</label> <input type="text" class="text-black/50 w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed" disabled></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">IM SKU</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Product Name</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div> <div><label class="text-black block text-sm font-medium text-gray-700 mb-1">Selling Price (£)</label> <input type="number" step="0.01" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div>'),Xr=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">print</button> <button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button class="px-5 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700">Save Changes</button></div></div></div>');function el(u,d){Oe(d,!1);let a=A(d,"showEditPrintModal",12),b=A(d,"editedProduct",12),g=A(d,"selectedProducts",12);function h(){b()&&(g(g().map(P=>P.id===b().id?b():P)),b(null),a(!1))}Ie();var v=Xr(),s=r(v),w=r(s),n=l(r(w),2);t(w);var M=l(w,2),C=r(M);{var $=P=>{var K=Qr(),Z=r(K),Q=r(Z),ce=l(r(Q),2);T(ce),t(Q);var be=l(Q,2),q=l(r(be),2);T(q),t(be),t(Z);var F=l(Z,2),V=l(r(F),2);T(V),t(F);var ge=l(F,2),we=l(r(ge),2);T(we),t(ge),t(K),H(ce,()=>b().sku,G=>b(b().sku=G,!0)),H(q,()=>b().imSKU,G=>b(b().imSKU=G,!0)),H(V,()=>b().name,G=>b(b().name=G,!0)),H(we,()=>b().price,G=>b(b().price=G,!0)),p(P,K)};S(C,P=>{b()&&P($)})}t(M);var O=l(M,2),j=r(O),k=l(j,2),I=l(k,2);t(O),t(s),t(v),W("click",n,()=>{a(!1)}),W("click",j,()=>{}),W("click",k,()=>{a(!1)}),W("click",I,h),p(u,v),Ke()}var tl=y('<p class="text-sm text-gray-500 mt-1">Click the X button to remove items from the list</p>'),rl=y('<span class="ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full">Sold</span>'),ll=y('<div><div class="flex-1 min-w-0"><div class="flex items-center"><h3 class="font-semibold text-gray-800 truncate"> </h3> <!></div> <div class="flex items-center mt-1 text-sm"><span class="font-medium text-blue-600"> </span> <span class="mx-2 text-gray-300">•</span> <span class="text-gray-600 truncate"> </span></div></div> <div class="flex items-center space-x-2"><button class="p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors flex items-center group" title="Edit Print Info"><svg class="w-5 h-5 text-blue-600 group-hover:text-blue-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="ml-1 text-sm font-medium text-blue-600 group-hover:text-blue-800 hidden md:inline">Edit</span></button> <button class="p-2 bg-red-50 rounded-full hover:bg-red-100 transition-colors flex items-center group" title="Remove from list"><svg class="w-5 h-5 text-red-500 group-hover:text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> <span class="ml-1 text-sm font-medium text-red-500 group-hover:text-red-700 hidden md:inline">Remove</span></button></div></div>'),al=y('<div class="text-center py-8"><svg class="w-16 h-16 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path></svg> <h3 class="mt-4 text-lg font-medium text-gray-900">No products selected</h3> <p class="mt-1 text-gray-500">Select items from your inventory to print receipts</p></div>'),sl=y('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Printing...</span>',1),ol=y('<span class="text-white">Print Receipts</span>'),dl=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Print Receipts</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div><div class="mb-4"><p class="text-gray-600"> </p> <!></div> <div class="space-y-3 max-h-96 overflow-y-auto"></div>`</div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Back</button> <button><!></button></div></div></div> <!>',1);function il(u,d){Oe(d,!1);let a=A(d,"showPrintModal",12),b=A(d,"selectedProducts",12),g=Y(!1),h=Y(),v=Y(null);async function s(){_(g,!0);try{const x=await fetch(yt+"/print_labels",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({selectedProducts:b()})});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);Xe.success(`Successfully printed ${b().length} label(s)!`),b([]),a(!1)}catch(x){console.error("Failed to print labels",x),Xe.error("Failed to print labels. Please check the console for details.")}finally{_(g,!1)}}function w(x){b(b().filter(z=>z.id!==x.id))}Ie();var n=dl(),M=Ue(n),C=r(M),$=r(C),O=l(r($),2);t($);var j=l($,2),k=r(j),I=r(k),P=r(I),K=r(P);t(P);var Z=l(P,2);{var Q=x=>{var z=tl();p(x,z)};S(Z,x=>{b().length>0&&x(Q)})}t(I);var ce=l(I,2);pt(ce,5,b,xt,(x,z)=>{var me=ll(),fe=r(me),X=r(fe),ee=r(X),c=r(ee,!0);t(ee);var m=l(ee,2);{var f=le=>{var ue=rl();p(le,ue)};S(m,le=>{e(z).sold&&le(f)})}t(X);var U=l(X,2),D=r(U),te=r(D);t(D);var re=l(D,4),se=r(re,!0);t(re),t(U),t(fe);var oe=l(fe,2),ve=r(oe),de=l(ve,2);t(oe),t(me),ie(le=>{B(me,1,`flex items-center p-3 border rounded-lg hover:bg-gray-50
                            ${e(z).sold?"bg-red-50 border-red-200":""}`),R(c,e(z).name),R(te,`£${le??""}`),R(se,e(z).sku)},[()=>e(z).price.toFixed(2)],je),W("click",ve,()=>{_(v,e(z)),_(h,!0)}),W("click",de,()=>w(e(z))),p(x,me)},x=>{var z=al();p(x,z)}),t(ce),Ee(),t(k),t(j);var be=l(j,2),q=r(be),F=l(q,2);let V;var ge=r(F);{var we=x=>{var z=sl();Ee(2),p(x,z)},G=x=>{var z=ol();p(x,z)};S(ge,x=>{e(g)?x(we):x(G,!1)})}t(F),t(be),t(C),t(M);var xe=l(M,2);{var E=x=>{el(x,{get showEditPrintModal(){return e(h)},set showEditPrintModal(z){_(h,z)},get editedProduct(){return e(v)},set editedProduct(z){_(v,z)},get selectedProducts(){return b()},set selectedProducts(z){b(z)},$$legacy:!0})};S(xe,x=>{e(h)&&x(E)})}ie(x=>{R(K,`You're about to print Receipts for ${b().length??""} products.`),V=B(F,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed",null,V,x),F.disabled=e(g)||b().length===0},[()=>({"bg-blue-600":!e(g),"bg-gray-400":e(g),"hover:bg-blue-700":!e(g)})],je),W("click",O,()=>{a(!1)}),W("click",q,()=>{a(!1)}),W("click",F,s),p(u,n),Ke()}var nl=y('<div class="absolute top-3 right-3 px-2 py-1 bg-red-100 text-red-800 text-xs font-bold rounded-full">SOLD</div>'),cl=y('<span class="ml-2 text-sm text-red-600">(Sold)</span>'),vl=y('<div><!> <div class="p-4"><div class="flex justify-between items-start"><div class="pr-2  w-[79%]"><h3 class="font-semibold text-gray-800 truncate"> </h3> <div class="mt-1"><span class="text-xl font-bold text-blue-600"> </span> <!></div></div> <button title="Edit Print Info"><svg class="w-5 h-5 text-blue-600 group-hover:text-blue-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="ml-1 text-sm font-medium text-blue-600 group-hover:text-blue-800 hidden md:inline">Edit</span></button></div> <div class="mt-3 space-y-2 text-sm text-gray-600"><div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="truncate"> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="truncate"> </span></div></div></div> <div> </div></div>'),ul=y('<div class="col-span-full text-center py-12"><div class="text-gray-400 mb-4"><svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-xl font-semibold text-gray-700">No products found</h3> <p class="text-gray-500 mt-2"> </p></div>'),bl=y('<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>');function gl(u,d){Oe(d,!1);let a=A(d,"filteredProducts",8),b=A(d,"selectedProducts",8),g=A(d,"toggleProduct",8),h=A(d,"openEditModal",8),v=A(d,"showSoldItems",8);Ie();var s=bl();pt(s,5,a,xt,(w,n)=>{var M=vl(),C=r(M);{var $=f=>{var U=nl();p(f,U)};S(C,f=>{e(n).sold&&f($)})}var O=l(C,2),j=r(O),k=r(j),I=r(k),P=r(I,!0);t(I);var K=l(I,2),Z=r(K),Q=r(Z);t(Z);var ce=l(Z,2);{var be=f=>{var U=cl();p(f,U)};S(ce,f=>{e(n).sold&&f(be)})}t(K),t(k);var q=l(k,2);t(j);var F=l(j,2),V=r(F),ge=l(r(V),2),we=r(ge);t(ge),t(V);var G=l(V,2),xe=l(r(G),2),E=r(xe);t(xe),t(G);var x=l(G,2),z=l(r(x),2),me=r(z);t(z),t(x);var fe=l(x,2),X=l(r(fe),2),ee=r(X);t(X),t(fe),t(F),t(O);var c=l(O,2),m=r(c,!0);t(c),t(M),ie((f,U,D)=>{B(M,1,f),R(P,e(n).name),R(Q,`£${U??""}`),B(q,1,`p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors flex items-center group ${e(n).sold?"opacity-70":""}`),R(we,`SKU: ${e(n).sku??""}`),R(E,`IM SKU: ${e(n).imSKU??""}`),R(me,`Seller: ${e(n).seller??""}`),R(ee,`Location: ${e(n).location??""}`),B(c,1,D),R(m,e(n).sold?"Sold - Selected":"Selected")},[()=>`bg-white rounded-xl shadow-md overflow-hidden border-2 transition-all duration-200 relative cursor-pointer
                ${b().find(f=>f.id===e(n).id)?"border-blue-500 shadow-lg":"border-transparent"}
                ${e(n).sold?"opacity-80":""}`,()=>e(n).price.toFixed(2),()=>`py-1 text-center text-sm font-medium
                ${b().find(f=>f.id===e(n).id)?e(n).sold?"bg-red-100 text-red-700":"bg-blue-50 text-blue-700":"hidden"}`],je),W("click",q,pr(()=>h()(e(n)))),W("click",M,()=>g()(e(n))),p(w,M)},w=>{var n=ul(),M=l(r(n),4),C=r(M,!0);t(M),t(n),ie(()=>R(C,v()?"No sold items match your search":"No available items match your search")),p(w,n)}),t(s),p(u,s),Ke()}var fl=y('<div class="bg-white rounded-xl shadow-lg p-4 mb-6 flex flex-col md:flex-row justify-between items-center gap-4"><div class="relative w-full"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" class="text-black w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Search by name, SKU, IM SKU, seller or location..."></div> <button class="flex items-center min-w-[220px] w-full md:w-auto px-4 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"><!> </button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Add stock"><!></button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Refresh stock"><!></button></div>');function pl(u,d){Oe(d,!1);let a=A(d,"searchTerm",12,""),b=A(d,"fetchProducts",8),g=A(d,"showPrintModal",12);A(d,"activeTab",8);let h=A(d,"selectedProducts",8),v=A(d,"showAddProductModal",12);A(d,"products",8),A(d,"sortConfig",8),A(d,"filteredProducts",8),A(d,"openPrintModal",8),Ie();var s=fl(),w=r(s),n=l(r(w),2);T(n),t(w);var M=l(w,2),C=r(M);Vt(C,{size:30,class:"mr-2"});var $=l(C);t(M);var O=l(M,2),j=r(O);yr(j,{size:30,class:""}),t(O);var k=l(O,2),I=r(k);hr(I,{size:30,class:""}),t(k),t(s),ie(()=>{M.disabled=h().length===0,R($,` Print Selected (${h().length??""})`)}),H(n,a),W("click",M,()=>{g(!0)}),W("click",O,()=>{v(!0)}),W("click",k,function(...P){var K;(K=b())==null||K.apply(this,P)}),p(u,s),Ke()}var xl=y('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div> <span class="ml-3 text-gray-600">Loading products...</span></div>'),ml=y('<div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-red-700"> </p> <button class="mt-2 px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200">Retry</button></div></div></div>'),yl=Kt('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>'),hl=y("<button><span> </span> <!></button>"),wl=y('<div class="mt-6 flex justify-center"><button class="px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"> </button></div>'),_l=y('<div class="rounded-xl  p-4 mb-6 flex justify-center"><div class="bg-white rounded-xl shadow-lg p-4 max-w-[300px] w-full text-center"><div class="flex flex-col items-center"><h3 class="text-sm font-medium text-gray-700 mb-3">Sort By</h3> <div class="flex flex-wrap justify-center gap-2"></div></div></div></div>  <!> <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <span class="font-medium">Total Items</span></div> <div class="text-3xl text-black font-bold mt-2"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Available</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Sold</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div></div> <!> <!>',1),kl=y('<button class="fab-enter fixed bottom-6 right-6 z-50 p-4 bg-blue-600 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white flex items-center justify-center svelte-7fy406"><!> <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center"> </span></button>'),Pl=y('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-4 md:p-8"><div class="max-w-7xl mx-auto"><div class="mb-8 text-center"><h1 class="text-3xl md:text-4xl font-bold text-gray-800">Iain Marr Antiques</h1> <p class="text-gray-600 mt-2">Inventory Management System</p></div> <!></div> <!> <!> <!> <!></div>');function jl(u,d){Oe(d,!1);const a=Y(),b=Y();let g=Y([]),h=Y([]),v=Y(""),s=Y(!1),w=Y(!1),n=Y(null),M=Y("products"),C=Y(!1),$=Y(!1),O=Y(null),j=Y(!0),k=Y({key:"sku",direction:"asc"}),I=[{id:"sku",name:"SKU"},{id:"name",name:"Name"},{id:"price",name:"Price"}];const P=(c,m,f="")=>c[m]!==void 0&&c[m]!==""?c[m]:f;async function K(){try{_($,!0),_(O,null);const c=await fetch(yt+"/get_stock",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const m=await c.json();_(g,m.map(f=>({id:P(f,"SKU NO.",""),name:P(f,"ITEM DESCRIPTION",""),price:Number(P(f,"SELLING PRICE",0)),imSKU:P(f,"IM SKU",""),sku:P(f,"SKU NO.",""),purchasePrice:Number(P(f,"PURCHASE PRICE",0)),seller:P(f,"NAME/ADDRESS SELLER",""),dateBought:P(f,"DATE BOUGHT",""),sold:P(f,"SOLD","FALSE")==="TRUE",commission:P(f,"Commission £",0),dateSold:P(f,"DATE SOLD",""),invoiceNo:P(f,"INVOICE NO. XERO",""),onWebsite:P(f,"ON WEBSITE","FALSE")==="TRUE",location:P(f,"location","")})))}catch(c){console.error("Failed to fetch products:",c),_(O,"Failed to load products. Please try again later.")}finally{_($,!1)}}Wt(K);function Z(c){let m="asc";e(k).key===c&&e(k).direction==="asc"&&(m="desc"),_(k,{key:c,direction:m})}function Q(c){e(h).find(m=>m.id===c.id)?_(h,e(h).filter(m=>m.id!==c.id)):_(h,[...e(h),{...c}])}function ce(){e(h).length===e(b).length?_(h,[]):_(h,[...e(b)])}function be(c){_(n,{...c}),_(M,"products"),_(s,!0)}function q(){_(C,!0)}Et(()=>(e(g),e(k)),()=>{_(a,[...e(g)].sort((c,m)=>{let f=c[e(k).key],U=m[e(k).key];if(e(k).key==="sku")return e(k).direction==="asc"?0:-1;if(typeof f=="number"&&typeof U=="number")return e(k).direction==="asc"?f-U:U-f;if(typeof f=="string"&&typeof U=="string"){if(f=f.toLowerCase(),U=U.toLowerCase(),f<U)return e(k).direction==="asc"?-1:1;if(f>U)return e(k).direction==="asc"?1:-1}return 0}))}),Et(()=>(e(a),e(j),e(v)),()=>{_(b,e(a).filter(c=>(e(j)||!c.sold)&&(String(c.name||"").toLowerCase().includes(e(v).toLowerCase())||String(c.imSKU||"").toLowerCase().includes(e(v).toLowerCase())||String(c.sku||"").toLowerCase().includes(e(v).toLowerCase())||String(c.seller||"").toLowerCase().includes(e(v).toLowerCase())||String(c.location||"").toLowerCase().includes(e(v).toLowerCase()))))}),Ft(),Ie();var F=Pl();tr(c=>{gr.title="Iain Marr Antiques"});var V=r(F),ge=l(r(V),2);{var we=c=>{var m=xl();p(c,m)},G=(c,m)=>{{var f=D=>{var te=ml(),re=r(te),se=l(r(re),2),oe=r(se),ve=r(oe,!0);t(oe);var de=l(oe,2);t(se),t(re),t(te),ie(()=>R(ve,e(O))),W("click",de,K),p(D,te)},U=D=>{var te=_l(),re=Ue(te),se=r(re),oe=r(se),ve=l(r(oe),2);pt(ve,5,()=>I,xt,(L,ne)=>{var ae=hl(),ye=r(ae),Re=r(ye,!0);t(ye);var We=l(ye,2);{var Fe=Ae=>{var Pe=yl();ie(()=>B(Pe,0,`ml-1.5 w-4 h-4 ${e(k).direction==="asc"?"":"transform rotate-180"}`,"svelte-7fy406")),p(Ae,Pe)};S(We,Ae=>{e(k).key===e(ne).id&&Ae(Fe)})}t(ae),ie(()=>{B(ae,1,`px-3 py-1.5 text-sm rounded-full border transition-colors flex items-center
                                        ${e(k).key===e(ne).id?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-100 border-gray-200 text-gray-700 hover:bg-gray-200"}`,"svelte-7fy406"),R(Re,e(ne).name)}),W("click",ae,()=>Z(e(ne).id)),p(L,ae)}),t(ve),t(oe),t(se),t(re);var de=l(re,2);pl(de,{openPrintModal:q,fetchProducts:K,get showAddProductModal(){return e(w)},set showAddProductModal(L){_(w,L)},get searchTerm(){return e(v)},set searchTerm(L){_(v,L)},get showSoldItems(){return e(j)},set showSoldItems(L){_(j,L)},get showPrintModal(){return e(C)},set showPrintModal(L){_(C,L)},get selectedProducts(){return e(h)},set selectedProducts(L){_(h,L)},$$legacy:!0});var le=l(de,2),ue=r(le),Se=l(r(ue),2),Me=r(Se,!0);t(Se),t(ue);var pe=l(ue,2),_e=l(r(pe),2),Ne=r(_e,!0);t(_e),t(pe);var Le=l(pe,2),Be=l(r(Le),2),De=r(Be,!0);t(Be),t(Le),t(le);var ke=l(le,2);gl(ke,{toggleProduct:Q,openEditModal:be,get filteredProducts(){return e(b)},set filteredProducts(L){_(b,L)},get selectedProducts(){return e(h)},set selectedProducts(L){_(h,L)},get showSoldItems(){return e(j)},set showSoldItems(L){_(j,L)},$$legacy:!0});var Je=l(ke,2);{var He=L=>{var ne=wl(),ae=r(ne),ye=r(ae,!0);t(ae),t(ne),ie(()=>R(ye,e(h).length===e(b).length?"Deselect All":"Select All")),W("click",ae,ce),p(L,ne)};S(Je,L=>{e(b).length>0&&L(He)})}ie((L,ne)=>{R(Me,e(g).length),R(Ne,L),R(De,ne)},[()=>e(g).filter(L=>!L.sold).length,()=>e(g).filter(L=>L.sold).length],je),p(D,te)};S(c,D=>{e(O)?D(f):D(U,!1)},m)}};S(ge,c=>{e($)?c(we):c(G,!1)})}t(V);var xe=l(V,2);{var E=c=>{var m=kl(),f=r(m);Vt(f,{size:30});var U=l(f,2),D=r(U,!0);t(U),t(m),ie(()=>R(D,e(h).length)),W("click",m,q),p(c,m)};S(xe,c=>{e(h).length>0&&c(E)})}var x=l(xe,2);{var z=c=>{Yr(c,{get editedProduct(){return e(n)},set editedProduct(m){_(n,m)},get showEditProductModal(){return e(s)},set showEditProductModal(m){_(s,m)},get activeTab(){return e(M)},set activeTab(m){_(M,m)},get products(){return e(g)},set products(m){_(g,m)},$$legacy:!0})};S(x,c=>{e(s)&&c(z)})}var me=l(x,2);{var fe=c=>{Ar(c,{get showAddProductModal(){return e(w)},set showAddProductModal(m){_(w,m)},get products(){return e(g)},set products(m){_(g,m)},$$legacy:!0})};S(me,c=>{e(w)&&c(fe)})}var X=l(me,2);{var ee=c=>{il(c,{get selectedProducts(){return e(h)},set selectedProducts(m){_(h,m)},get showPrintModal(){return e(C)},set showPrintModal(m){_(C,m)},$$legacy:!0})};S(X,c=>{e(C)&&c(ee)})}t(F),p(u,F),Ke()}export{jl as component};
