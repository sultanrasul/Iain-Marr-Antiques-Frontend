import{k as Kt,l as Ot,o as jt,p as Ht,c as rt,a as p,t as h,q as H,s as R,r as Rt}from"../chunks/UHgdVxab.js";import{i as Se}from"../chunks/COvYmz0T.js";import{h as me,a as St,d as pt,b as Wt,E as Dt,c as Ft,aK as Vt,ae as Zt,af as qt,P as Mt,O as Et,H as Gt,p as Jt,Q as Yt,ao as Qt,aL as Xt,u as $t,r as Tt,f as Me,j as t,g as Pe,s as r,k as e,t as ce,$ as He,i as Ee,w as l,aM as X,aN as Je,F as y,aO as ue,ab as er,aP as Ct,aQ as tr,aR as rr}from"../chunks/Dmk63-Zs.js";import{l as tt,p as P,s as ht,i as E}from"../chunks/CMLOL0cc.js";import"../chunks/DFLJVkLH.js";import{e as wt,i as _t,s as nt,a as Nt,r as L,b as A}from"../chunks/gBMYTnNt.js";function lr(v,d,o,b,f,x){let u=me;me&&St();var a,C,n=null;me&&pt.nodeType===1&&(n=pt,St());var k=me?pt:v,w;Wt(()=>{const N=d()||null;var T=Vt;N!==a&&(w&&(N===null?Jt(w,()=>{w=null,C=null}):N===C?Yt(w):Qt(w)),N&&N!==C&&(w=Ft(()=>{if(n=me?n:document.createElementNS(T,N),Kt(n,n),b){me&&Ot(N)&&n.append(document.createComment(""));var j=me?Zt(n):n.appendChild(qt());me&&(j===null?Mt(!1):Et(j)),b(n,j)}Gt.nodes_end=n,k.before(n)})),a=N,a&&(C=a))},Dt),u&&(Mt(!0),Et(k))}function I(v,d,o=d){var b=Xt();jt(v,"input",f=>{var x=f?v.defaultValue:v.value;if(x=mt(v)?yt(x):x,o(x),b&&x!==(x=d())){var u=v.selectionStart,a=v.selectionEnd;v.value=x??"",a!==null&&(v.selectionStart=u,v.selectionEnd=Math.min(a,v.value.length))}}),(me&&v.defaultValue!==v.value||$t(d)==null&&v.value)&&o(mt(v)?yt(v.value):v.value),Tt(()=>{var f=d();mt(v)&&f===yt(v.value)||v.type==="date"&&!f&&!v.value||f!==v.value&&(v.value=f??"")})}function it(v,d,o=d){jt(v,"change",b=>{var f=b?v.defaultChecked:v.checked;o(f)}),(me&&v.defaultChecked!==v.checked||$t(d)==null)&&o(v.checked),Tt(()=>{var b=d();v.checked=!!b})}function mt(v){var d=v.type;return d==="number"||d==="range"}function yt(v){return v===""?null:+v}function or(v){return function(...d){var o=d[0];return o.stopPropagation(),v==null?void 0:v.apply(this,d)}}/**
 * @license lucide-svelte v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var sr=Ht("<svg><!><!></svg>");function kt(v,d){const o=tt(d,["children","$$slots","$$events","$$legacy"]),b=tt(o,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Me(d,!1);let f=P(d,"name",8,void 0),x=P(d,"color",8,"currentColor"),u=P(d,"size",8,24),a=P(d,"strokeWidth",8,2),C=P(d,"absoluteStrokeWidth",8,!1),n=P(d,"iconNode",24,()=>[]);const k=(...M)=>M.filter((_,z,K)=>!!_&&K.indexOf(_)===z).join(" ");Se();var w=sr();let N;var T=t(w);wt(T,1,n,_t,(M,_)=>{let z=()=>l(_)[0],K=()=>l(_)[1];var Z=rt(),ee=Pe(Z);lr(ee,z,!0,(O,q)=>{let W;ce(()=>W=Nt(O,W,{...K()}))}),p(M,Z)});var j=r(T);nt(j,d,"default",{},null),e(w),ce((M,_)=>N=Nt(w,N,{...ar,...b,width:u(),height:u(),stroke:x(),"stroke-width":M,class:_}),[()=>C()?Number(a())*24/Number(u()):a(),()=>k("lucide-icon","lucide",f()?`lucide-${f()}`:"",o.class)],He),p(v,w),Ee()}function dr(v,d){const o=tt(d,["children","$$slots","$$events","$$legacy"]);kt(v,ht({name:"circle-plus"},()=>o,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(f,x)=>{var u=rt(),a=Pe(u);nt(a,d,"default",{},null),p(f,u)},$$slots:{default:!0}}))}function ir(v,d){const o=tt(d,["children","$$slots","$$events","$$legacy"]);kt(v,ht({name:"folder-sync"},()=>o,{iconNode:[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5"}],["path",{d:"M12 10v4h4"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5"}],["path",{d:"M22 22v-4h-4"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5"}]],children:(f,x)=>{var u=rt(),a=Pe(u);nt(a,d,"default",{},null),p(f,u)},$$slots:{default:!0}}))}function nr(v,d){const o=tt(d,["children","$$slots","$$events","$$legacy"]);kt(v,ht({name:"printer"},()=>o,{iconNode:[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]],children:(f,x)=>{var u=rt(),a=Pe(u);nt(a,d,"default",{},null),p(f,u)},$$slots:{default:!0}}))}const dt="http://printpi:8080";var cr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),vr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),ur=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),br=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),gr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),xr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),fr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),pr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),mr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),yr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),hr=h(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="border-b"><div class="flex"><button>Product Details</button> <button>Print Preview</button></div></div> <div class="flex-1 overflow-y-auto p-6"><div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                        but you may want to review them before saving.</p></div></div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button class="px-5 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700">Add Product</button></div></div></div>`);function wr(v,d){Me(d,!1),P(d,"saveEditedProduct",8);let o=P(d,"showAddProductModal",12),b=P(d,"products",8);function f(s){const S=s.match(/^([A-Za-z\s]*)(\d+)([A-Za-z]*)$/);if(!S)return console.error("Invalid SKU format:",s),s;const ke=S[1],Ze=parseInt(S[2],10),qe=S[3],Ge=Ze+1;return`${ke}${Ge}${qe}`}let x=b()[b().length-1].sku;console.log(x);let u=X("products"),a=X({id:f(x),name:"",price:0,imSKU:"",sku:f(x),purchasePrice:0,seller:"",dateBought:"",sold:!1,commission:0,dateSold:"",invoiceNo:"",onWebsite:!1,location:""});async function C(s){try{const S=await fetch(dt+"/add_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({product:l(a)})});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const ke=await S.json()}catch(S){console.error("Failed to fetch products:",S)}finally{}console.log("This is the new edited data",s)}function n(s){return s===""||s===0||s===null||s===void 0}Se();var k=hr(),w=t(k),N=t(w),T=r(t(N),2);e(N);var j=r(N,2),M=t(j),_=t(M),z=r(_,2);e(M),e(j);var K=r(j,2),Z=t(K),ee=t(Z),O=t(ee),q=r(t(O),2);L(q),A(q,1,"border-gray-300 bg-gray-100 text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed"),e(O);var W=r(O,2),B=t(W),te=r(t(B),2);{var V=s=>{var S=cr();p(s,S)};E(te,s=>{n(l(a).imSKU)&&s(V)})}e(B);var D=r(B,2);L(D),e(W),e(ee);var U=r(ee,2),Y=t(U),se=r(t(Y),2);{var ie=s=>{var S=vr();p(s,S)};E(se,s=>{n(l(a).name)&&s(ie)})}e(Y);var oe=r(Y,2);L(oe),e(U);var Q=r(U,2),re=t(Q),G=t(re),ge=r(t(G),2);{var c=s=>{var S=ur();p(s,S)};E(ge,s=>{l(a).price===0&&s(c)})}e(G);var g=r(G,2);L(g),e(re);var m=r(re,2),J=t(m),ne=r(t(J),2);{var ve=s=>{var S=br();p(s,S)};E(ne,s=>{l(a).purchasePrice===0&&s(ve)})}e(J);var de=r(J,2);L(de),e(m),e(Q);var ae=r(Q,2),le=t(ae),be=t(le),Ce=r(t(be),2);{var Ne=s=>{var S=gr();p(s,S)};E(Ce,s=>{n(l(a).seller)&&s(Ne)})}e(be);var xe=r(be,2);L(xe),e(le);var je=r(le,2),fe=t(je),Re=r(t(fe),2);{var Ye=s=>{var S=xr();p(s,S)};E(Re,s=>{n(l(a).location)&&s(Ye)})}e(fe);var pe=r(fe,2);L(pe),e(je),e(ae);var ye=r(ae,2),he=t(ye),$=t(he),we=r(t($),2);{var $e=s=>{var S=fr();p(s,S)};E(we,s=>{n(l(a).dateBought)&&s($e)})}e($);var _e=r($,2);L(_e),e(he);var Qe=r(he,2),Te=t(Qe),ct=r(t(Te),2);{var vt=s=>{var S=pr();p(s,S)};E(ct,s=>{n(l(a).dateSold)&&s(vt)})}e(Te);var Le=r(Te,2);L(Le),e(Qe),e(ye);var Be=r(ye,2),Ae=t(Be),Ue=t(Ae),ut=r(t(Ue),2);{var bt=s=>{var S=mr();p(s,S)};E(ut,s=>{l(a).commission===0&&s(bt)})}e(Ue);var ze=r(Ue,2);L(ze),e(Ae);var Xe=r(Ae,2),Ie=t(Xe),gt=r(t(Ie),2);{var xt=s=>{var S=yr();p(s,S)};E(gt,s=>{n(l(a).invoiceNo)&&s(xt)})}e(Ie);var Ke=r(Ie,2);L(Ke),e(Xe),e(Be);var We=r(Be,2),Oe=t(We),De=r(t(Oe),2),lt=t(De);L(lt),Je(2),e(De),e(Oe);var ot=r(Oe,2),Fe=r(t(ot),2),et=t(Fe);L(et),Je(2),e(Fe),e(ot),e(We),Je(2),e(Z),e(K);var Ve=r(K,2),at=t(Ve),ft=r(at,2);e(Ve),e(w),e(k),ce((s,S,ke,Ze,qe,Ge,st)=>{A(_,1,`px-6 py-3 font-medium text-sm ${l(u)==="products"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`),A(z,1,`px-6 py-3 font-medium text-sm ${l(u)==="print"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`),z.disabled=!l(a),A(D,1,s),A(oe,1,S),A(g,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${l(a).price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),A(de,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${l(a).purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),A(xe,1,ke),A(pe,1,Ze),A(_e,1,qe),A(Le,1,Ge),A(ze,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${l(a).commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),A(Ke,1,st)},[()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(l(a).imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                            ${n(l(a).name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(l(a).seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(l(a).location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(l(a).dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(l(a).dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(l(a).invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`],He),H("click",T,()=>{o(!1)}),H("click",_,()=>y(u,"products")),H("click",z,()=>y(u,"print")),I(q,()=>l(a).sku,s=>ue(a,l(a).sku=s)),I(D,()=>l(a).imSKU,s=>ue(a,l(a).imSKU=s)),I(oe,()=>l(a).name,s=>ue(a,l(a).name=s)),I(g,()=>l(a).price,s=>ue(a,l(a).price=s)),I(de,()=>l(a).purchasePrice,s=>ue(a,l(a).purchasePrice=s)),I(xe,()=>l(a).seller,s=>ue(a,l(a).seller=s)),I(pe,()=>l(a).location,s=>ue(a,l(a).location=s)),I(_e,()=>l(a).dateBought,s=>ue(a,l(a).dateBought=s)),I(Le,()=>l(a).dateSold,s=>ue(a,l(a).dateSold=s)),I(ze,()=>l(a).commission,s=>ue(a,l(a).commission=s)),I(Ke,()=>l(a).invoiceNo,s=>ue(a,l(a).invoiceNo=s)),it(lt,()=>l(a).onWebsite,s=>ue(a,l(a).onWebsite=s)),it(et,()=>l(a).sold,s=>ue(a,l(a).sold=s)),H("click",at,()=>{o(!1)}),H("click",ft,C),p(v,k),Ee()}var _r=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),kr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Pr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Sr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Mr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Er=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Cr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Nr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),jr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),$r=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Tr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Lr=h(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label> <!></div> <input type="text" disabled></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                                but you may want to review them before saving.</p></div></div>`),Br=h('<div class="bg-gray-50 p-4 rounded-lg mb-4"><div class="flex items-center"><svg class="w-5 h-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg> <h3 class="font-medium">Label Preview</h3></div> <p class="text-sm text-gray-600 mt-1">This is a preview of how the label will look</p></div> <div class="border border-gray-300 rounded-lg p-6 max-w-xs mx-auto"><div class="text-center mb-4"><div class="text-xl font-bold">Iain Marr Antiques</div> <div class="text-xs text-gray-500">Est. 1990</div></div> <div class="text-center mb-2"><div class="font-semibold text-lg"> </div> <div class="text-2xl font-bold text-blue-700"> </div></div> <div class="flex justify-between text-xs mt-4"><div> </div> <div> </div></div> <div class="mt-6 text-center text-xs text-gray-500"><div> </div> <div> </div></div></div>',1),Ar=h('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="border-b"><div class="flex"><button>Product Details</button> <button>Print Preview</button></div></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button class="px-5 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700">Save Changes</button></div></div></div>');function Ur(v,d){Me(d,!1);let o=P(d,"editedProduct",12),b=P(d,"showEditProductModal",12),f=P(d,"activeTab",12),x=P(d,"saveEditedProduct",8);P(d,"printSelected",8),P(d,"selectedProducts",8),P(d,"openEditModal",8);function u(O){return O===""||O===0||O===null||O===void 0}Se();var a=Ar(),C=t(a),n=t(C),k=r(t(n),2);e(n);var w=r(n,2),N=t(w),T=t(N),j=r(T,2);e(N),e(w);var M=r(w,2),_=t(M);{var z=O=>{var q=rt(),W=Pe(q);{var B=V=>{var D=Lr(),U=t(D),Y=t(U),se=t(Y),ie=r(t(se),2);{var oe=i=>{var F=_r();p(i,F)};E(ie,i=>{u(o().sku)&&i(oe)})}e(se);var Q=r(se,2);L(Q),e(Y);var re=r(Y,2),G=t(re),ge=r(t(G),2);{var c=i=>{var F=kr();p(i,F)};E(ge,i=>{u(o().imSKU)&&i(c)})}e(G);var g=r(G,2);L(g),e(re),e(U);var m=r(U,2),J=t(m),ne=r(t(J),2);{var ve=i=>{var F=Pr();p(i,F)};E(ne,i=>{u(o().name)&&i(ve)})}e(J);var de=r(J,2);L(de),e(m);var ae=r(m,2),le=t(ae),be=t(le),Ce=r(t(be),2);{var Ne=i=>{var F=Sr();p(i,F)};E(Ce,i=>{o().price===0&&i(Ne)})}e(be);var xe=r(be,2);L(xe),e(le);var je=r(le,2),fe=t(je),Re=r(t(fe),2);{var Ye=i=>{var F=Mr();p(i,F)};E(Re,i=>{o().purchasePrice===0&&i(Ye)})}e(fe);var pe=r(fe,2);L(pe),e(je),e(ae);var ye=r(ae,2),he=t(ye),$=t(he),we=r(t($),2);{var $e=i=>{var F=Er();p(i,F)};E(we,i=>{u(o().seller)&&i($e)})}e($);var _e=r($,2);L(_e),e(he);var Qe=r(he,2),Te=t(Qe),ct=r(t(Te),2);{var vt=i=>{var F=Cr();p(i,F)};E(ct,i=>{u(o().location)&&i(vt)})}e(Te);var Le=r(Te,2);L(Le),e(Qe),e(ye);var Be=r(ye,2),Ae=t(Be),Ue=t(Ae),ut=r(t(Ue),2);{var bt=i=>{var F=Nr();p(i,F)};E(ut,i=>{u(o().dateBought)&&i(bt)})}e(Ue);var ze=r(Ue,2);L(ze),e(Ae);var Xe=r(Ae,2),Ie=t(Xe),gt=r(t(Ie),2);{var xt=i=>{var F=jr();p(i,F)};E(gt,i=>{u(o().dateSold)&&i(xt)})}e(Ie);var Ke=r(Ie,2);L(Ke),e(Xe),e(Be);var We=r(Be,2),Oe=t(We),De=t(Oe),lt=r(t(De),2);{var ot=i=>{var F=$r();p(i,F)};E(lt,i=>{o().commission===0&&i(ot)})}e(De);var Fe=r(De,2);L(Fe),e(Oe);var et=r(Oe,2),Ve=t(et),at=r(t(Ve),2);{var ft=i=>{var F=Tr();p(i,F)};E(at,i=>{u(o().invoiceNo)&&i(ft)})}e(Ve);var s=r(Ve,2);L(s),e(et),e(We);var S=r(We,2),ke=t(S),Ze=r(t(ke),2),qe=t(Ze);L(qe),Je(2),e(Ze),e(ke);var Ge=r(ke,2),st=r(t(Ge),2),Pt=t(st);L(Pt),Je(2),e(st),e(Ge),e(S),Je(2),e(D),ce((i,F,Lt,Bt,At,Ut,zt,It)=>{A(Q,1,i),A(g,1,F),A(de,1,Lt),A(xe,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${o().price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),A(pe,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${o().purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),A(_e,1,Bt),A(Le,1,At),A(ze,1,Ut),A(Ke,1,zt),A(Fe,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${o().commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),A(s,1,It)},[()=>`text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed
                                        ${u(o().sku)?"border-yellow-400 bg-yellow-50":"border-gray-300 bg-gray-100"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${u(o().imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                    ${u(o().name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${u(o().seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${u(o().location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${u(o().dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${u(o().dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${u(o().invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`],He),I(Q,()=>o().sku,i=>o(o().sku=i,!0)),I(g,()=>o().imSKU,i=>o(o().imSKU=i,!0)),I(de,()=>o().name,i=>o(o().name=i,!0)),I(xe,()=>o().price,i=>o(o().price=i,!0)),I(pe,()=>o().purchasePrice,i=>o(o().purchasePrice=i,!0)),I(_e,()=>o().seller,i=>o(o().seller=i,!0)),I(Le,()=>o().location,i=>o(o().location=i,!0)),I(ze,()=>o().dateBought,i=>o(o().dateBought=i,!0)),I(Ke,()=>o().dateSold,i=>o(o().dateSold=i,!0)),I(Fe,()=>o().commission,i=>o(o().commission=i,!0)),I(s,()=>o().invoiceNo,i=>o(o().invoiceNo=i,!0)),it(qe,()=>o().onWebsite,i=>o(o().onWebsite=i,!0)),it(Pt,()=>o().sold,i=>o(o().sold=i,!0)),p(V,D)},te=V=>{var D=Br(),U=r(Pe(D),2),Y=r(t(U),2),se=t(Y),ie=t(se,!0);e(se);var oe=r(se,2),Q=t(oe);e(oe),e(Y);var re=r(Y,2),G=t(re),ge=t(G);e(G);var c=r(G,2),g=t(c);e(c),e(re);var m=r(re,2),J=t(m),ne=t(J,!0);e(J);var ve=r(J,2),de=t(ve,!0);e(ve),e(m),e(U),ce((ae,le)=>{R(ie,o().name),R(Q,`£${ae??""}`),R(ge,`SKU: ${o().sku??""}`),R(g,`IM: ${o().imSKU??""}`),R(ne,o().location),R(de,le)},[()=>o().price.toFixed(2),()=>new Date().toLocaleDateString("en-GB")],He),p(V,D)};E(W,V=>{f()==="products"?V(B):V(te,!1)})}p(O,q)};E(_,O=>{o()&&O(z)})}e(M);var K=r(M,2),Z=t(K),ee=r(Z,2);e(K),e(C),e(a),ce(()=>{A(T,1,`px-6 py-3 font-medium text-sm ${f()==="products"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`),A(j,1,`px-6 py-3 font-medium text-sm ${f()==="print"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`),j.disabled=!o()}),H("click",k,()=>{b(!1)}),H("click",T,()=>f("products")),H("click",j,()=>f("print")),H("click",Z,()=>{b(!1)}),H("click",ee,function(...O){var q;(q=x())==null||q.apply(this,O)}),p(v,a),Ee()}var zr=h('<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">SKU</label> <input type="text" class="text-black/50 w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed" disabled></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">IM SKU</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Product Name</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div> <div><label class="text-black block text-sm font-medium text-gray-700 mb-1">Selling Price (£)</label> <input type="number" step="0.01" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div>'),Ir=h('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">print</button> <button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button class="px-5 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700">Save Changes</button></div></div></div>');function Kr(v,d){Me(d,!1);let o=P(d,"showEditPrintModal",12),b=P(d,"editedProduct",12),f=P(d,"selectedProducts",12);function x(){b()&&(f(f().map(z=>z.id===b().id?b():z)),b(null),o(!1))}Se();var u=Ir(),a=t(u),C=t(a),n=r(t(C),2);e(C);var k=r(C,2),w=t(k);{var N=z=>{var K=zr(),Z=t(K),ee=t(Z),O=r(t(ee),2);L(O),e(ee);var q=r(ee,2),W=r(t(q),2);L(W),e(q),e(Z);var B=r(Z,2),te=r(t(B),2);L(te),e(B);var V=r(B,2),D=r(t(V),2);L(D),e(V),e(K),I(O,()=>b().sku,U=>b(b().sku=U,!0)),I(W,()=>b().imSKU,U=>b(b().imSKU=U,!0)),I(te,()=>b().name,U=>b(b().name=U,!0)),I(D,()=>b().price,U=>b(b().price=U,!0)),p(z,K)};E(w,z=>{b()&&z(N)})}e(k);var T=r(k,2),j=t(T),M=r(j,2),_=r(M,2);e(T),e(a),e(u),H("click",n,()=>{o(!1)}),H("click",j,()=>{}),H("click",M,()=>{o(!1)}),H("click",_,x),p(v,u),Ee()}var Or=h('<span class="ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full">Sold</span>'),Hr=h('<div><div class="flex-1 min-w-0"><div class="flex items-center"><h3 class="font-semibold text-gray-800 truncate"> </h3> <!></div> <div class="flex items-center mt-1 text-sm"><span class="font-medium text-blue-600"> </span> <span class="mx-2 text-gray-300">•</span> <span class="text-gray-600 truncate"> </span></div></div> <button class="ml-4 text-blue-600 hover:text-blue-800 flex items-center text-sm">Edit Print Info <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button></div>'),Rr=h('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Print Receipts</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div><div class="mb-4"><p class="text-gray-600"> </p></div> <div class="space-y-3 max-h-96 overflow-y-auto"></div></div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Back</button> <button class="px-5 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700">Print Receipts</button></div></div></div> <!>',1);function Wr(v,d){Me(d,!1);let o=P(d,"showPrintModal",12),b=P(d,"selectedProducts",12),f=P(d,"printSelected",8),x=X(),u=X(null);Se();var a=Rr(),C=Pe(a),n=t(C),k=t(n),w=r(t(k),2);e(k);var N=r(k,2),T=t(N),j=t(T),M=t(j),_=t(M);e(M),e(j);var z=r(j,2);wt(z,5,b,_t,(W,B)=>{var te=Hr(),V=t(te),D=t(V),U=t(D),Y=t(U,!0);e(U);var se=r(U,2);{var ie=g=>{var m=Or();p(g,m)};E(se,g=>{l(B).sold&&g(ie)})}e(D);var oe=r(D,2),Q=t(oe),re=t(Q);e(Q);var G=r(Q,4),ge=t(G,!0);e(G),e(oe),e(V);var c=r(V,2);e(te),ce(g=>{A(te,1,`flex items-center p-3 border rounded-lg hover:bg-gray-50
                            ${l(B).sold?"bg-red-50 border-red-200":""}`),R(Y,l(B).name),R(re,`£${g??""}`),R(ge,l(B).sku)},[()=>l(B).price.toFixed(2)],He),H("click",c,()=>{y(u,l(B)),y(x,!0)}),p(W,te)}),e(z),e(T),e(N);var K=r(N,2),Z=t(K),ee=r(Z,2);e(K),e(n),e(C);var O=r(C,2);{var q=W=>{Kr(W,{get showEditPrintModal(){return l(x)},set showEditPrintModal(B){y(x,B)},get editedProduct(){return l(u)},set editedProduct(B){y(u,B)},get selectedProducts(){return b()},set selectedProducts(B){b(B)},$$legacy:!0})};E(O,W=>{l(x)&&W(q)})}ce(()=>R(_,`You're about to print Receipts for ${b().length??""} products.`)),H("click",w,()=>{o(!1)}),H("click",Z,()=>{o(!1)}),H("click",ee,function(...W){var B;(B=f())==null||B.apply(this,W)}),p(v,a),Ee()}var Dr=h('<div class="absolute top-3 right-3 px-2 py-1 bg-red-100 text-red-800 text-xs font-bold rounded-full">SOLD</div>'),Fr=h('<span class="ml-2 text-sm text-red-600">(Sold)</span>'),Vr=h('<div><!> <div class="p-4"><div class="flex justify-between items-start"><div class="pr-2  w-[90%]"><h3 class="font-semibold text-gray-800 truncate"> </h3> <div class="mt-1"><span class="text-xl font-bold text-blue-600"> </span> <!></div></div> <button title="Edit product"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button></div> <div class="mt-3 space-y-2 text-sm text-gray-600"><div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="truncate"> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="truncate"> </span></div></div></div> <div> </div></div>'),Zr=h('<div class="col-span-full text-center py-12"><div class="text-gray-400 mb-4"><svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-xl font-semibold text-gray-700">No products found</h3> <p class="text-gray-500 mt-2"> </p></div>'),qr=h('<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>');function Gr(v,d){Me(d,!1);let o=P(d,"filteredProducts",8),b=P(d,"selectedProducts",8),f=P(d,"toggleProduct",8),x=P(d,"openEditModal",8),u=P(d,"showSoldItems",8);Se();var a=qr();wt(a,5,o,_t,(C,n)=>{var k=Vr(),w=t(k);{var N=m=>{var J=Dr();p(m,J)};E(w,m=>{l(n).sold&&m(N)})}var T=r(w,2),j=t(T),M=t(j),_=t(M),z=t(_,!0);e(_);var K=r(_,2),Z=t(K),ee=t(Z);e(Z);var O=r(Z,2);{var q=m=>{var J=Fr();p(m,J)};E(O,m=>{l(n).sold&&m(q)})}e(K),e(M);var W=r(M,2);e(j);var B=r(j,2),te=t(B),V=r(t(te),2),D=t(V);e(V),e(te);var U=r(te,2),Y=r(t(U),2),se=t(Y);e(Y),e(U);var ie=r(U,2),oe=r(t(ie),2),Q=t(oe);e(oe),e(ie);var re=r(ie,2),G=r(t(re),2),ge=t(G);e(G),e(re),e(B),e(T);var c=r(T,2),g=t(c,!0);e(c),e(k),ce((m,J,ne)=>{A(k,1,m),R(z,l(n).name),R(ee,`£${J??""}`),A(W,1,`z-10 text-gray-400 hover:text-blue-500 p-1 flex-shrink-0
                            ${l(n).sold?"opacity-70":""}`),R(D,`SKU: ${l(n).sku??""}`),R(se,`IM SKU: ${l(n).imSKU??""}`),R(Q,`Seller: ${l(n).seller??""}`),R(ge,`Location: ${l(n).location??""}`),A(c,1,ne),R(g,l(n).sold?"Sold - Selected":"Selected")},[()=>`bg-white rounded-xl shadow-md overflow-hidden border-2 transition-all duration-200 relative cursor-pointer
                ${b().find(m=>m.id===l(n).id)?"border-blue-500 shadow-lg":"border-transparent"}
                ${l(n).sold?"opacity-80":""}`,()=>l(n).price.toFixed(2),()=>`py-1 text-center text-sm font-medium
                ${b().find(m=>m.id===l(n).id)?l(n).sold?"bg-red-100 text-red-700":"bg-blue-50 text-blue-700":"hidden"}`],He),H("click",W,or(()=>x()(l(n)))),H("click",k,()=>f()(l(n))),p(C,k)},C=>{var n=Zr(),k=r(t(n),4),w=t(k,!0);e(k),e(n),ce(()=>R(w,u()?"No sold items match your search":"No available items match your search")),p(C,n)}),e(a),p(v,a),Ee()}var Jr=h('<div class="bg-white rounded-xl shadow-lg p-4 mb-6 flex flex-col md:flex-row justify-between items-center gap-4"><div class="relative w-full"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" class="text-black w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Search by name, SKU, IM SKU, seller or location..."></div> <button class="flex items-center min-w-[220px] w-full md:w-auto px-4 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"><!> </button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Refresh stock"><!></button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Refresh stock"><!></button></div>');function Yr(v,d){Me(d,!1);let o=P(d,"searchTerm",12,""),b=P(d,"fetchProducts",8),f=P(d,"showPrintModal",12);P(d,"activeTab",8);let x=P(d,"selectedProducts",8),u=P(d,"showAddProductModal",12);P(d,"products",8),P(d,"sortConfig",8),P(d,"filteredProducts",8),P(d,"openPrintModal",8),Se();var a=Jr(),C=t(a),n=r(t(C),2);L(n),e(C);var k=r(C,2),w=t(k);nr(w,{size:30,class:"mr-2"});var N=r(w);e(k);var T=r(k,2),j=t(T);dr(j,{size:30,class:""}),e(T);var M=r(T,2),_=t(M);ir(_,{size:30,class:""}),e(M),e(a),ce(()=>{k.disabled=x().length===0,R(N,` Print Selected (${x().length??""})`)}),I(n,o),H("click",k,()=>{f(!0)}),H("click",T,()=>{u(!0)}),H("click",M,function(...z){var K;(K=b())==null||K.apply(this,z)}),p(v,a),Ee()}var Qr=h('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div> <span class="ml-3 text-gray-600">Loading products...</span></div>'),Xr=h('<div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-red-700"> </p> <button class="mt-2 px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200">Retry</button></div></div></div>'),el=h('<div class="mt-6 flex justify-center"><button class="px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"> </button></div>'),tl=h('<!> <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <span class="font-medium">Total Items</span></div> <div class="text-3xl text-black font-bold mt-2"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Available</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Sold</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div></div> <!> <!>',1),rl=h('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-4 md:p-8"><div class="max-w-7xl mx-auto"><div class="mb-8 text-center"><h1 class="text-3xl md:text-4xl font-bold text-gray-800">Iain Marr Antiques</h1> <p class="text-gray-600 mt-2">Inventory Management System</p></div> <!></div> <!> <!> <!></div>');function nl(v,d){Me(d,!1);const o=X(),b=X();let f=X([]),x=X([]),u=X(""),a=X(!1),C=X(!1),n=X(null),k=X("products"),w=X(!1),N=X(!1),T=X(null),j=X(!0),M=X({key:"sku",direction:"asc"});const _=(c,g,m="")=>c[g]!==void 0&&c[g]!==""?c[g]:m;async function z(){try{y(N,!0),y(T,null);const c=await fetch(dt+"/get_stock",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const g=await c.json();y(f,g.map(m=>({id:_(m,"SKU NO.",""),name:_(m,"ITEM DESCRIPTION",""),price:Number(_(m,"SELLING PRICE",0)),imSKU:_(m,"IM SKU",""),sku:_(m,"SKU NO.",""),purchasePrice:Number(_(m,"PURCHASE PRICE",0)),seller:_(m,"NAME/ADDRESS SELLER",""),dateBought:_(m,"DATE BOUGHT",""),sold:_(m,"SOLD","FALSE")==="TRUE",commission:_(m,"Commission £",0),dateSold:_(m,"DATE SOLD",""),invoiceNo:_(m,"INVOICE NO. XERO",""),onWebsite:_(m,"ON WEBSITE","FALSE")==="TRUE",location:_(m,"location","")})))}catch(c){console.error("Failed to fetch products:",c),y(T,"Failed to load products. Please try again later.")}finally{y(N,!1)}}async function K(c){try{const g=await fetch(dt+"/modify_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({editedProduct:c})});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const m=await g.json()}catch(g){console.error("Failed to fetch products:",g),y(T,"Failed to load products. Please try again later.")}finally{y(N,!1)}console.log("This is the new edited data",c)}async function Z(){try{const c=await fetch(dt+"/print_labels",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({selectedProducts:l(x)})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);alert(`Successfully printed ${l(x).length} labels!`),y(x,[]),y(w,!1)}catch(c){console.error("Failed to print labels",c),alert("Failed to print labels. Please check the console for details.")}}er(z);function ee(c){l(x).find(g=>g.id===c.id)?y(x,l(x).filter(g=>g.id!==c.id)):y(x,[...l(x),{...c}])}function O(){l(x).length===l(b).length?y(x,[]):y(x,[...l(b)])}function q(c){y(n,{...c}),y(k,"products"),y(a,!0)}function W(){y(w,!0)}function B(){l(n)&&(y(f,l(f).map(c=>c.id===l(n).id?l(n):c)),K(l(n)),y(n,null),y(a,!1))}function te(){Z()}Ct(()=>(l(f),l(M)),()=>{y(o,[...l(f)].sort((c,g)=>c[l(M).key]<g[l(M).key]?l(M).direction==="asc"?-1:1:c[l(M).key]>g[l(M).key]?l(M).direction==="asc"?1:-1:0))}),Ct(()=>(l(o),l(j),l(u)),()=>{y(b,l(o).filter(c=>(l(j)||!c.sold)&&(String(c.name||"").toLowerCase().includes(l(u).toLowerCase())||String(c.imSKU||"").toLowerCase().includes(l(u).toLowerCase())||String(c.sku||"").toLowerCase().includes(l(u).toLowerCase())||String(c.seller||"").toLowerCase().includes(l(u).toLowerCase())||String(c.location||"").toLowerCase().includes(l(u).toLowerCase()))))}),tr(),Se();var V=rl();Rt(c=>{rr.title="Iain Marr Antiques"});var D=t(V),U=r(t(D),2);{var Y=c=>{var g=Qr();p(c,g)},se=(c,g)=>{{var m=ne=>{var ve=Xr(),de=t(ve),ae=r(t(de),2),le=t(ae),be=t(le,!0);e(le);var Ce=r(le,2);e(ae),e(de),e(ve),ce(()=>R(be,l(T))),H("click",Ce,z),p(ne,ve)},J=ne=>{var ve=tl(),de=Pe(ve);Yr(de,{openPrintModal:W,fetchProducts:z,get showAddProductModal(){return l(C)},set showAddProductModal($){y(C,$)},get searchTerm(){return l(u)},set searchTerm($){y(u,$)},get showSoldItems(){return l(j)},set showSoldItems($){y(j,$)},get showPrintModal(){return l(w)},set showPrintModal($){y(w,$)},get selectedProducts(){return l(x)},set selectedProducts($){y(x,$)},$$legacy:!0});var ae=r(de,2),le=t(ae),be=r(t(le),2),Ce=t(be,!0);e(be),e(le);var Ne=r(le,2),xe=r(t(Ne),2),je=t(xe,!0);e(xe),e(Ne);var fe=r(Ne,2),Re=r(t(fe),2),Ye=t(Re,!0);e(Re),e(fe),e(ae);var pe=r(ae,2);Gr(pe,{toggleProduct:ee,openEditModal:q,get filteredProducts(){return l(b)},set filteredProducts($){y(b,$)},get selectedProducts(){return l(x)},set selectedProducts($){y(x,$)},get showSoldItems(){return l(j)},set showSoldItems($){y(j,$)},$$legacy:!0});var ye=r(pe,2);{var he=$=>{var we=el(),$e=t(we),_e=t($e,!0);e($e),e(we),ce(()=>R(_e,l(x).length===l(b).length?"Deselect All":"Select All")),H("click",$e,O),p($,we)};E(ye,$=>{l(b).length>0&&$(he)})}ce(($,we)=>{R(Ce,l(f).length),R(je,$),R(Ye,we)},[()=>l(f).filter($=>!$.sold).length,()=>l(f).filter($=>$.sold).length],He),p(ne,ve)};E(c,ne=>{l(T)?ne(m):ne(J,!1)},g)}};E(U,c=>{l(N)?c(Y):c(se,!1)})}e(D);var ie=r(D,2);{var oe=c=>{Ur(c,{saveEditedProduct:B,get editedProduct(){return l(n)},set editedProduct(g){y(n,g)},get showEditProductModal(){return l(a)},set showEditProductModal(g){y(a,g)},get activeTab(){return l(k)},set activeTab(g){y(k,g)},$$legacy:!0})};E(ie,c=>{l(a)&&c(oe)})}var Q=r(ie,2);{var re=c=>{wr(c,{get showAddProductModal(){return l(C)},set showAddProductModal(g){y(C,g)},get products(){return l(f)},set products(g){y(f,g)},$$legacy:!0})};E(Q,c=>{l(C)&&c(re)})}var G=r(Q,2);{var ge=c=>{Wr(c,{printSelected:te,get selectedProducts(){return l(x)},set selectedProducts(g){y(x,g)},get showPrintModal(){return l(w)},set showPrintModal(g){y(w,g)},$$legacy:!0})};E(G,c=>{l(w)&&c(ge)})}e(V),p(v,V),Ee()}export{nl as component};
