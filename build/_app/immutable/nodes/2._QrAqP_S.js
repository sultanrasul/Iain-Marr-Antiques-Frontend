import{k as qt,l as Gt,o as Tt,p as Ot,a as p,c as dt,t as h,q as G,s as F,r as Yt}from"../chunks/DaN96dIN.js";import{i as je}from"../chunks/idI3UDRs.js";import{h as ke,a as Lt,d as kt,b as Qt,E as Xt,c as er,aL as tr,ae as rr,af as lr,P as At,O as Bt,H as ar,p as sr,Q as or,ao as dr,aM as ir,u as Ut,r as It,f as Le,j as r,s as l,k as t,t as se,$ as Ee,i as Ae,g as $e,w as e,aN as q,aO as Pe,F as x,aP as he,ab as Kt,aQ as Mt,x as nr,aR as Ht,aS as cr}from"../chunks/DDLtgsC2.js";import{l as ot,p as I,s as Ct,i as P}from"../chunks/D_Rvj4zC.js";import"../chunks/B7Zx7JS7.js";import{e as pt,i as ft,s as mt,a as zt,r as O,b as U,t as qe}from"../chunks/B8pF-tgs.js";function vr(v,d,a,u,f,y){let b=ke;ke&&Lt();var s,_,c=null;ke&&kt.nodeType===1&&(c=kt,Lt());var j=ke?kt:v,E;Qt(()=>{const B=d()||null;var K=tr;B!==s&&(E&&(B===null?sr(E,()=>{E=null,_=null}):B===_?or(E):dr(E)),B&&B!==_&&(E=er(()=>{if(c=ke?c:document.createElementNS(K,B),qt(c,c),u){ke&&Gt(B)&&c.append(document.createComment(""));var z=ke?rr(c):c.appendChild(lr());ke&&(z===null?At(!1):Bt(z)),u(c,z)}ar.nodes_end=c,j.before(c)})),s=B,s&&(_=s))},Xt),b&&(At(!0),Bt(j))}function H(v,d,a=d){var u=ir();Tt(v,"input",f=>{var y=f?v.defaultValue:v.value;if(y=Pt(v)?St(y):y,a(y),u&&y!==(y=d())){var b=v.selectionStart,s=v.selectionEnd;v.value=y??"",s!==null&&(v.selectionStart=b,v.selectionEnd=Math.min(s,v.value.length))}}),(ke&&v.defaultValue!==v.value||Ut(d)==null&&v.value)&&a(Pt(v)?St(v.value):v.value),It(()=>{var f=d();Pt(v)&&f===St(v.value)||v.type==="date"&&!f&&!v.value||f!==v.value&&(v.value=f??"")})}function gt(v,d,a=d){Tt(v,"change",u=>{var f=u?v.defaultChecked:v.checked;a(f)}),(ke&&v.defaultChecked!==v.checked||Ut(d)==null)&&a(v.checked),It(()=>{var u=d();v.checked=!!u})}function Pt(v){var d=v.type;return d==="number"||d==="range"}function St(v){return v===""?null:+v}function ur(v){return function(...d){var a=d[0];return a.stopPropagation(),v==null?void 0:v.apply(this,d)}}/**
 * @license lucide-svelte v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var gr=Ot("<svg><!><!></svg>");function Et(v,d){const a=ot(d,["children","$$slots","$$events","$$legacy"]),u=ot(a,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Le(d,!1);let f=I(d,"name",8,void 0),y=I(d,"color",8,"currentColor"),b=I(d,"size",8,24),s=I(d,"strokeWidth",8,2),_=I(d,"absoluteStrokeWidth",8,!1),c=I(d,"iconNode",24,()=>[]);const j=(...S)=>S.filter((M,N,V)=>!!M&&V.indexOf(M)===N).join(" ");je();var E=gr();let B;var K=r(E);pt(K,1,c,ft,(S,M)=>{let N=()=>e(M)[0],V=()=>e(M)[1];var R=dt(),Y=$e(R);vr(Y,N,!0,(Q,oe)=>{let J;se(()=>J=zt(Q,J,{...V()}))}),p(S,R)});var z=l(K);mt(z,d,"default",{},null),t(E),se((S,M)=>B=zt(E,B,{...br,...u,width:b(),height:b(),stroke:y(),"stroke-width":S,class:M}),[()=>_()?Number(s())*24/Number(b()):s(),()=>j("lucide-icon","lucide",f()?`lucide-${f()}`:"",a.class)],Ee),p(v,E),Ae()}function pr(v,d){const a=ot(d,["children","$$slots","$$events","$$legacy"]);Et(v,Ct({name:"circle-plus"},()=>a,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(f,y)=>{var b=dt(),s=$e(b);mt(s,d,"default",{},null),p(f,b)},$$slots:{default:!0}}))}function fr(v,d){const a=ot(d,["children","$$slots","$$events","$$legacy"]);Et(v,Ct({name:"folder-sync"},()=>a,{iconNode:[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5"}],["path",{d:"M12 10v4h4"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5"}],["path",{d:"M22 22v-4h-4"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5"}]],children:(f,y)=>{var b=dt(),s=$e(b);mt(s,d,"default",{},null),p(f,b)},$$slots:{default:!0}}))}function Rt(v,d){const a=ot(d,["children","$$slots","$$events","$$legacy"]);Et(v,Ct({name:"printer"},()=>a,{iconNode:[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]],children:(f,y)=>{var b=dt(),s=$e(b);mt(s,d,"default",{},null),p(f,b)},$$slots:{default:!0}}))}const xt="http://printpi:8080";var mr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),xr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),hr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),yr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),wr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),_r=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),kr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Pr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Sr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Mr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Cr=h('<svg class=" animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Adding...</span>',1),Er=h('<span class="text-white">Add Product</span>'),Nr=h(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Add Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                        but you may want to review them before saving.</p></div></div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button><!></button></div></div></div>`);function $r(v,d){Le(d,!1),I(d,"saveEditedProduct",8);let a=I(d,"showAddProductModal",12),u=I(d,"products",8),f=q(!1);function y(o){const A=o.match(/^([A-Za-z\s]*)(\d+)([A-Za-z]*)$/);if(!A)return console.error("Invalid SKU format:",o),o;const Re=A[1],lt=parseInt(A[2],10),at=A[3],Ne=lt+1;return`${Re}${Ne}${at}`}let b=u()[u().length-1].sku;console.log(b);let s=q({id:y(b),name:"",price:0,imSKU:"",sku:y(b),purchasePrice:0,seller:"",dateBought:"",sold:!1,commission:0,dateSold:"",invoiceNo:"",onWebsite:!1,location:""});async function _(){x(f,!0);try{const o=await fetch(xt+"/add_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({product:e(s)})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const A=await o.json();qe.success("Product added successfully!"),a(!1)}catch(o){console.error("Failed to add product:",o),qe.error("Failed to add product. Please try again.")}finally{x(f,!1)}}function c(o){return o===""||o===0||o===null||o===void 0}je();var j=Nr(),E=r(j),B=r(E),K=l(r(B),2);t(B);var z=l(B,2),S=r(z),M=r(S),N=r(M),V=l(r(N),2);O(V),U(V,1,"border-gray-300 bg-gray-100 text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed"),t(N);var R=l(N,2),Y=r(R),Q=l(r(Y),2);{var oe=o=>{var A=mr();p(o,A)};P(Q,o=>{c(e(s).imSKU)&&o(oe)})}t(Y);var J=l(Y,2);O(J),t(R),t(M);var W=l(M,2),D=r(W),k=l(r(D),2);{var $=o=>{var A=xr();p(o,A)};P(k,o=>{c(e(s).name)&&o($)})}t(D);var de=l(D,2);O(de),t(W);var ce=l(W,2),ve=r(ce),X=r(ve),ue=l(r(X),2);{var be=o=>{var A=hr();p(o,A)};P(ue,o=>{e(s).price===0&&o(be)})}t(X);var w=l(X,2);O(w),t(ve);var C=l(ve,2),ie=r(C),n=l(r(ie),2);{var m=o=>{var A=yr();p(o,A)};P(n,o=>{e(s).purchasePrice===0&&o(m)})}t(ie);var g=l(ie,2);O(g),t(C),t(ce);var T=l(ce,2),te=r(T),le=r(te),ae=l(r(le),2);{var re=o=>{var A=wr();p(o,A)};P(ae,o=>{c(e(s).seller)&&o(re)})}t(le);var ee=l(le,2);O(ee),t(te);var pe=l(te,2),fe=r(pe),ge=l(r(fe),2);{var me=o=>{var A=_r();p(o,A)};P(ge,o=>{c(e(s).location)&&o(me)})}t(fe);var xe=l(fe,2);O(xe),t(pe),t(T);var ne=l(T,2),we=r(ne),Be=r(we),Se=l(r(Be),2);{var We=o=>{var A=kr();p(o,A)};P(Se,o=>{c(e(s).dateBought)&&o(We)})}t(Be);var Me=l(Be,2);O(Me),t(we);var L=l(we,2),ye=r(L),_e=l(r(ye),2);{var ze=o=>{var A=Pr();p(o,A)};P(_e,o=>{c(e(s).dateSold)&&o(ze)})}t(ye);var Te=l(ye,2);O(Te),t(L),t(ne);var Oe=l(ne,2),Ge=r(Oe),Ye=r(Ge),Fe=l(r(Ye),2);{var it=o=>{var A=Sr();p(o,A)};P(Fe,o=>{e(s).commission===0&&o(it)})}t(Ye);var Ue=l(Ye,2);O(Ue),t(Ge);var nt=l(Ge,2),Qe=r(nt),Ve=l(r(Qe),2);{var Xe=o=>{var A=Mr();p(o,A)};P(Ve,o=>{c(e(s).invoiceNo)&&o(Xe)})}t(Qe);var Ie=l(Qe,2);O(Ie),t(nt),t(Oe);var De=l(Oe,2),et=r(De),ct=l(r(et),2),Ke=r(ct);O(Ke),Pe(2),t(ct),t(et);var tt=l(et,2),Je=l(r(tt),2),vt=r(Je);O(vt),Pe(2),t(Je),t(tt),t(De),Pe(2),t(S),t(z);var ut=l(z,2),He=r(ut),Ce=l(He,2);let Ze;var rt=r(Ce);{var ht=o=>{var A=Cr();Pe(2),p(o,A)},yt=o=>{var A=Er();p(o,A)};P(rt,o=>{e(f)?o(ht):o(yt,!1)})}t(Ce),t(ut),t(E),t(j),se((o,A,Re,lt,at,Ne,bt,st)=>{U(J,1,o),U(de,1,A),U(w,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(s).price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),U(g,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(s).purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),U(ee,1,Re),U(xe,1,lt),U(Me,1,at),U(Te,1,Ne),U(Ue,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(s).commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),U(Ie,1,bt),Ze=U(Ce,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed",null,Ze,st),Ce.disabled=e(f)},[()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${c(e(s).imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                            ${c(e(s).name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${c(e(s).seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${c(e(s).location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${c(e(s).dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${c(e(s).dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${c(e(s).invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>({"bg-blue-600":!e(f),"bg-gray-400":e(f),"hover:bg-blue-700":!e(f)})],Ee),G("click",K,()=>{a(!1)}),H(V,()=>e(s).sku,o=>he(s,e(s).sku=o)),H(J,()=>e(s).imSKU,o=>he(s,e(s).imSKU=o)),H(de,()=>e(s).name,o=>he(s,e(s).name=o)),H(w,()=>e(s).price,o=>he(s,e(s).price=o)),H(g,()=>e(s).purchasePrice,o=>he(s,e(s).purchasePrice=o)),H(ee,()=>e(s).seller,o=>he(s,e(s).seller=o)),H(xe,()=>e(s).location,o=>he(s,e(s).location=o)),H(Me,()=>e(s).dateBought,o=>he(s,e(s).dateBought=o)),H(Te,()=>e(s).dateSold,o=>he(s,e(s).dateSold=o)),H(Ue,()=>e(s).commission,o=>he(s,e(s).commission=o)),H(Ie,()=>e(s).invoiceNo,o=>he(s,e(s).invoiceNo=o)),gt(Ke,()=>e(s).onWebsite,o=>he(s,e(s).onWebsite=o)),gt(vt,()=>e(s).sold,o=>he(s,e(s).sold=o)),G("click",He,()=>{a(!1)}),G("click",Ce,_),p(v,j),Ae()}var jr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Lr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Ar=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Br=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),zr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Tr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Or=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Ur=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Ir=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Kr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Hr=h('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Rr=h(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label> <!></div> <input type="text" disabled></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded svelte-1mfa054"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded svelte-1mfa054"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg svelte-1mfa054"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                                but you may want to review them before saving.</p></div></div>`),Wr=h('<div class="bg-gray-50 p-4 rounded-lg mb-4"><div class="flex items-center"><svg class="w-5 h-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg> <h3 class="font-medium">Label Preview</h3></div> <p class="text-sm text-gray-600 mt-1">This is a preview of how the label will look</p></div> <div class="border border-gray-300 rounded-lg p-6 max-w-xs mx-auto"><div class="text-center mb-4"><div class="text-xl font-bold">Iain Marr Antiques</div> <div class="text-xs text-gray-500">Est. 1990</div></div> <div class="text-center mb-2"><div class="font-semibold text-lg"> </div> <div class="text-2xl font-bold text-blue-700"> </div></div> <div class="flex justify-between text-xs mt-4"><div> </div> <div> </div></div> <div class="mt-6 text-center text-xs text-gray-500"><div> </div> <div> </div></div></div>',1),Fr=h('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white svelte-1mfa054" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Saving...</span>',1),Vr=h('<span class="text-white">Save Changes</span>'),Dr=h('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600 svelte-1mfa054"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>  <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 svelte-1mfa054">Cancel</button> <button><!></button></div></div></div>');function Jr(v,d){Le(d,!1);let a=I(d,"editedProduct",12),u=I(d,"showEditProductModal",12),f=I(d,"activeTab",8),y=I(d,"products",12),b=q(!1),s=q(null);function _(k){return k===""||k===0||k===null||k===void 0}function c(){return JSON.stringify(e(s))!==JSON.stringify(a())}async function j(k){try{const $=await fetch(xt+"/modify_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({editedProduct:k})});if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);return await $.json()}catch($){throw console.error("Failed to update product:",$),new Error("Failed to update product. Please try again later.")}}async function E(){if(c()){x(b,!0);try{await j(a()),y(y().map(k=>k.id===a().id?a():k)),x(s,JSON.parse(JSON.stringify(a()))),qe.success("Product updated successfully!"),u(!1)}catch(k){console.error("Save error:",k),qe.error(k.message||"Failed to update product","error")}finally{x(b,!1)}}}Kt(()=>{a()&&(x(s,JSON.parse(JSON.stringify(a()))),console.log(e(s)))}),Mt(()=>(nr(a()),e(s)),()=>{a()&&!e(s)&&x(s,JSON.parse(JSON.stringify(a())))}),Ht(),je();var B=Dr(),K=r(B),z=r(K),S=l(r(z),2);t(z);var M=l(z,2),N=r(M);{var V=k=>{var $=dt(),de=$e($);{var ce=X=>{var ue=Rr(),be=r(ue),w=r(be),C=r(w),ie=l(r(C),2);{var n=i=>{var Z=jr();p(i,Z)};P(ie,i=>{_(a().sku)&&i(n)})}t(C);var m=l(C,2);O(m),t(w);var g=l(w,2),T=r(g),te=l(r(T),2);{var le=i=>{var Z=Lr();p(i,Z)};P(te,i=>{_(a().imSKU)&&i(le)})}t(T);var ae=l(T,2);O(ae),t(g),t(be);var re=l(be,2),ee=r(re),pe=l(r(ee),2);{var fe=i=>{var Z=Ar();p(i,Z)};P(pe,i=>{_(a().name)&&i(fe)})}t(ee);var ge=l(ee,2);O(ge),t(re);var me=l(re,2),xe=r(me),ne=r(xe),we=l(r(ne),2);{var Be=i=>{var Z=Br();p(i,Z)};P(we,i=>{a().price===0&&i(Be)})}t(ne);var Se=l(ne,2);O(Se),t(xe);var We=l(xe,2),Me=r(We),L=l(r(Me),2);{var ye=i=>{var Z=zr();p(i,Z)};P(L,i=>{a().purchasePrice===0&&i(ye)})}t(Me);var _e=l(Me,2);O(_e),t(We),t(me);var ze=l(me,2),Te=r(ze),Oe=r(Te),Ge=l(r(Oe),2);{var Ye=i=>{var Z=Tr();p(i,Z)};P(Ge,i=>{_(a().seller)&&i(Ye)})}t(Oe);var Fe=l(Oe,2);O(Fe),t(Te);var it=l(Te,2),Ue=r(it),nt=l(r(Ue),2);{var Qe=i=>{var Z=Or();p(i,Z)};P(nt,i=>{_(a().location)&&i(Qe)})}t(Ue);var Ve=l(Ue,2);O(Ve),t(it),t(ze);var Xe=l(ze,2),Ie=r(Xe),De=r(Ie),et=l(r(De),2);{var ct=i=>{var Z=Ur();p(i,Z)};P(et,i=>{_(a().dateBought)&&i(ct)})}t(De);var Ke=l(De,2);O(Ke),t(Ie);var tt=l(Ie,2),Je=r(tt),vt=l(r(Je),2);{var ut=i=>{var Z=Ir();p(i,Z)};P(vt,i=>{_(a().dateSold)&&i(ut)})}t(Je);var He=l(Je,2);O(He),t(tt),t(Xe);var Ce=l(Xe,2),Ze=r(Ce),rt=r(Ze),ht=l(r(rt),2);{var yt=i=>{var Z=Kr();p(i,Z)};P(ht,i=>{a().commission===0&&i(yt)})}t(rt);var o=l(rt,2);O(o),t(Ze);var A=l(Ze,2),Re=r(A),lt=l(r(Re),2);{var at=i=>{var Z=Hr();p(i,Z)};P(lt,i=>{_(a().invoiceNo)&&i(at)})}t(Re);var Ne=l(Re,2);O(Ne),t(A),t(Ce);var bt=l(Ce,2),st=r(bt),Nt=l(r(st),2),wt=r(Nt);O(wt),Pe(2),t(Nt),t(st);var $t=l(st,2),jt=l(r($t),2),_t=r(jt);O(_t),Pe(2),t(jt),t($t),t(bt),Pe(2),t(ue),se((i,Z,Wt,Ft,Vt,Dt,Jt,Zt)=>{U(m,1,i,"svelte-1mfa054"),U(ae,1,Z,"svelte-1mfa054"),ae.disabled=e(b),U(ge,1,Wt,"svelte-1mfa054"),ge.disabled=e(b),U(Se,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),Se.disabled=e(b),U(_e,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),_e.disabled=e(b),U(Fe,1,Ft,"svelte-1mfa054"),Fe.disabled=e(b),U(Ve,1,Vt,"svelte-1mfa054"),Ve.disabled=e(b),U(Ke,1,Dt,"svelte-1mfa054"),Ke.disabled=e(b),U(He,1,Jt,"svelte-1mfa054"),He.disabled=e(b),U(o,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),o.disabled=e(b),U(Ne,1,Zt,"svelte-1mfa054"),Ne.disabled=e(b),wt.disabled=e(b),_t.disabled=e(b)},[()=>`text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed
                                        ${_(a().sku)?"border-yellow-400 bg-yellow-50":"border-gray-300 bg-gray-100"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                    ${_(a().name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`],Ee),H(m,()=>a().sku,i=>a(a().sku=i,!0)),H(ae,()=>a().imSKU,i=>a(a().imSKU=i,!0)),H(ge,()=>a().name,i=>a(a().name=i,!0)),H(Se,()=>a().price,i=>a(a().price=i,!0)),H(_e,()=>a().purchasePrice,i=>a(a().purchasePrice=i,!0)),H(Fe,()=>a().seller,i=>a(a().seller=i,!0)),H(Ve,()=>a().location,i=>a(a().location=i,!0)),H(Ke,()=>a().dateBought,i=>a(a().dateBought=i,!0)),H(He,()=>a().dateSold,i=>a(a().dateSold=i,!0)),H(o,()=>a().commission,i=>a(a().commission=i,!0)),H(Ne,()=>a().invoiceNo,i=>a(a().invoiceNo=i,!0)),gt(wt,()=>a().onWebsite,i=>a(a().onWebsite=i,!0)),gt(_t,()=>a().sold,i=>a(a().sold=i,!0)),p(X,ue)},ve=X=>{var ue=Wr(),be=l($e(ue),2),w=l(r(be),2),C=r(w),ie=r(C,!0);t(C);var n=l(C,2),m=r(n);t(n),t(w);var g=l(w,2),T=r(g),te=r(T);t(T);var le=l(T,2),ae=r(le);t(le),t(g);var re=l(g,2),ee=r(re),pe=r(ee,!0);t(ee);var fe=l(ee,2),ge=r(fe,!0);t(fe),t(re),t(be),se((me,xe)=>{F(ie,a().name),F(m,`£${me??""}`),F(te,`SKU: ${a().sku??""}`),F(ae,`IM: ${a().imSKU??""}`),F(pe,a().location),F(ge,xe)},[()=>a().price.toFixed(2),()=>new Date().toLocaleDateString("en-GB")],Ee),p(X,ue)};P(de,X=>{f()==="products"?X(ce):X(ve,!1)})}p(k,$)};P(N,k=>{a()&&k(V)})}t(M);var R=l(M,2),Y=r(R),Q=l(Y,2);let oe;var J=r(Q);{var W=k=>{var $=Fr();Pe(2),p(k,$)},D=k=>{var $=Vr();p(k,$)};P(J,k=>{e(b)?k(W):k(D,!1)})}t(Q),t(R),t(K),t(B),se((k,$)=>{S.disabled=e(b),Y.disabled=e(b),oe=U(Q,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed svelte-1mfa054",null,oe,k),Q.disabled=$},[()=>({"bg-blue-600":!e(b)&&c(),"bg-gray-400":!c()||e(b),"hover:bg-blue-700":!e(b)&&c()}),()=>!c()||e(b)],Ee),G("click",S,()=>{u(!1)}),G("click",Y,()=>{u(!1)}),G("click",Q,E),p(v,B),Ae()}var Zr=h('<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">SKU</label> <input type="text" class="text-black/50 w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed" disabled></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">IM SKU</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Product Name</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div> <div><label class="text-black block text-sm font-medium text-gray-700 mb-1">Selling Price (£)</label> <input type="number" step="0.01" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div>'),qr=h('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button class="px-5 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700">Save Changes</button></div></div></div>');function Gr(v,d){Le(d,!1);let a=I(d,"showEditPrintModal",12),u=I(d,"editedProduct",12),f=I(d,"selectedProducts",12);function y(){u()&&(f(f().map(M=>M.id===u().id?u():M)),u(null),a(!1))}je();var b=qr(),s=r(b),_=r(s),c=l(r(_),2);t(_);var j=l(_,2),E=r(j);{var B=M=>{var N=Zr(),V=r(N),R=r(V),Y=l(r(R),2);O(Y),t(R);var Q=l(R,2),oe=l(r(Q),2);O(oe),t(Q),t(V);var J=l(V,2),W=l(r(J),2);O(W),t(J);var D=l(J,2),k=l(r(D),2);O(k),t(D),t(N),H(Y,()=>u().sku,$=>u(u().sku=$,!0)),H(oe,()=>u().imSKU,$=>u(u().imSKU=$,!0)),H(W,()=>u().name,$=>u(u().name=$,!0)),H(k,()=>u().price,$=>u(u().price=$,!0)),p(M,N)};P(E,M=>{u()&&M(B)})}t(j);var K=l(j,2),z=r(K),S=l(z,2);t(K),t(s),t(b),G("click",c,()=>{a(!1)}),G("click",z,()=>{a(!1)}),G("click",S,y),p(v,b),Ae()}var Yr=h('<p class="text-sm text-gray-500 mt-1">Click the X button to remove items from the list</p>'),Qr=h('<span class="ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full">Sold</span>'),Xr=h('<div><div class="flex-1 min-w-0"><div class="flex items-center"><h3 class="font-semibold text-gray-800 truncate"> </h3> <!></div> <div class="flex items-center mt-1 text-sm"><span class="font-medium text-blue-600"> </span> <span class="mx-2 text-gray-300">•</span> <span class="text-gray-600 truncate"> </span></div></div> <div class="flex items-center space-x-2"><button class="p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors flex items-center group" title="Edit Print Info"><svg class="w-5 h-5 text-blue-600 group-hover:text-blue-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="ml-1 text-sm font-medium text-blue-600 group-hover:text-blue-800 hidden md:inline">Edit</span></button> <button class="p-2 bg-red-50 rounded-full hover:bg-red-100 transition-colors flex items-center group" title="Remove from list"><svg class="w-5 h-5 text-red-500 group-hover:text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> <span class="ml-1 text-sm font-medium text-red-500 group-hover:text-red-700 hidden md:inline">Remove</span></button></div></div>'),el=h('<div class="text-center py-8"><svg class="w-16 h-16 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path></svg> <h3 class="mt-4 text-lg font-medium text-gray-900">No products selected</h3> <p class="mt-1 text-gray-500">Select items from your inventory to print receipts</p></div>'),tl=h('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Printing...</span>',1),rl=h('<span class="text-white">Print Receipts</span>'),ll=h('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Print Receipts</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div class="mb-6"><label for="customerName" class="block text-sm font-medium text-gray-700 mb-2">Customer Name (Optional)</label> <input id="customerName" type="text" placeholder="Enter customer name for receipt" class="w-full px-4 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"> <p class="mt-1 text-sm text-gray-500">The customer name will be printed on the receipt if provided.</p></div> <div><div class="mb-4"><p class="text-gray-600"> </p> <!></div> <div class="space-y-3 max-h-96 overflow-y-auto"></div></div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Back</button> <button><!></button></div></div></div> <!>',1);function al(v,d){Le(d,!1);let a=I(d,"showPrintModal",12),u=I(d,"selectedProducts",12),f=q(!1),y=q(),b=q(null),s=q("");async function _(){x(f,!0);try{const w=await fetch(xt+"/print_labels",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({selectedProducts:u(),customerName:e(s)})});if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);qe.success(`Successfully printed ${u().length} label(s)!`),u([]),x(s,""),a(!1)}catch(w){console.error("Failed to print labels",w),qe.error("Failed to print labels. Please check the console for details.")}finally{x(f,!1)}}function c(w){u(u().filter(C=>C.id!==w.id))}je();var j=ll(),E=$e(j),B=r(E),K=r(B),z=l(r(K),2);t(K);var S=l(K,2),M=r(S),N=l(r(M),2);O(N),Pe(2),t(M);var V=l(M,2),R=r(V),Y=r(R),Q=r(Y);t(Y);var oe=l(Y,2);{var J=w=>{var C=Yr();p(w,C)};P(oe,w=>{u().length>0&&w(J)})}t(R);var W=l(R,2);pt(W,5,u,ft,(w,C)=>{var ie=Xr(),n=r(ie),m=r(n),g=r(m),T=r(g,!0);t(g);var te=l(g,2);{var le=ne=>{var we=Qr();p(ne,we)};P(te,ne=>{e(C).sold&&ne(le)})}t(m);var ae=l(m,2),re=r(ae),ee=r(re);t(re);var pe=l(re,4),fe=r(pe,!0);t(pe),t(ae),t(n);var ge=l(n,2),me=r(ge),xe=l(me,2);t(ge),t(ie),se(ne=>{U(ie,1,`flex items-center p-3 border rounded-lg hover:bg-gray-50
                ${e(C).sold?"bg-red-50 border-red-200":""}`),F(T,e(C).name),F(ee,`£${ne??""}`),F(fe,e(C).sku)},[()=>e(C).price.toFixed(2)],Ee),G("click",me,()=>{x(b,e(C)),x(y,!0)}),G("click",xe,()=>c(e(C))),p(w,ie)},w=>{var C=el();p(w,C)}),t(W),t(V),t(S);var D=l(S,2),k=r(D),$=l(k,2);let de;var ce=r($);{var ve=w=>{var C=tl();Pe(2),p(w,C)},X=w=>{var C=rl();p(w,C)};P(ce,w=>{e(f)?w(ve):w(X,!1)})}t($),t(D),t(B),t(E);var ue=l(E,2);{var be=w=>{Gr(w,{get showEditPrintModal(){return e(y)},set showEditPrintModal(C){x(y,C)},get editedProduct(){return e(b)},set editedProduct(C){x(b,C)},get selectedProducts(){return u()},set selectedProducts(C){u(C)},$$legacy:!0})};P(ue,w=>{e(y)&&w(be)})}se(w=>{F(Q,`You're about to print Receipts for ${u().length??""} products.`),de=U($,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed",null,de,w),$.disabled=e(f)||u().length===0},[()=>({"bg-blue-600":!e(f),"bg-gray-400":e(f),"hover:bg-blue-700":!e(f)})],Ee),G("click",z,()=>{a(!1),x(s,"")}),H(N,()=>e(s),w=>x(s,w)),G("click",k,()=>{a(!1),x(s,"")}),G("click",$,_),p(v,j),Ae()}var sl=h('<div class="absolute top-3 right-3 px-2 py-1 bg-red-100 text-red-800 text-xs font-bold rounded-full">SOLD</div>'),ol=h('<span class="ml-2 text-sm text-red-600">(Sold)</span>'),dl=h('<div><!> <div class="p-4"><div class="flex justify-between items-start"><div class="pr-2  w-[79%]"><h3 class="font-semibold text-gray-800 truncate"> </h3> <div class="mt-1"><span class="text-xl font-bold text-blue-600"> </span> <!></div></div> <button title="Edit Print Info"><svg class="w-5 h-5 text-blue-600 group-hover:text-blue-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="ml-1 text-sm font-medium text-blue-600 group-hover:text-blue-800 hidden md:inline">Edit</span></button></div> <div class="mt-3 space-y-2 text-sm text-gray-600"><div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="truncate"> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="truncate"> </span></div></div></div> <div> </div></div>'),il=h('<div class="col-span-full text-center py-12"><div class="text-gray-400 mb-4"><svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-xl font-semibold text-gray-700">No products found</h3> <p class="text-gray-500 mt-2"> </p></div>'),nl=h('<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>');function cl(v,d){Le(d,!1);let a=I(d,"filteredProducts",8),u=I(d,"selectedProducts",8),f=I(d,"toggleProduct",8),y=I(d,"openEditModal",8),b=I(d,"showSoldItems",8);je();var s=nl();pt(s,5,a,ft,(_,c)=>{var j=dl(),E=r(j);{var B=g=>{var T=sl();p(g,T)};P(E,g=>{e(c).sold&&g(B)})}var K=l(E,2),z=r(K),S=r(z),M=r(S),N=r(M,!0);t(M);var V=l(M,2),R=r(V),Y=r(R);t(R);var Q=l(R,2);{var oe=g=>{var T=ol();p(g,T)};P(Q,g=>{e(c).sold&&g(oe)})}t(V),t(S);var J=l(S,2);t(z);var W=l(z,2),D=r(W),k=l(r(D),2),$=r(k);t(k),t(D);var de=l(D,2),ce=l(r(de),2),ve=r(ce);t(ce),t(de);var X=l(de,2),ue=l(r(X),2),be=r(ue);t(ue),t(X);var w=l(X,2),C=l(r(w),2),ie=r(C);t(C),t(w),t(W),t(K);var n=l(K,2),m=r(n,!0);t(n),t(j),se((g,T,te)=>{U(j,1,g),F(N,e(c).name),F(Y,`£${T??""}`),U(J,1,`p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors flex items-center group ${e(c).sold?"opacity-70":""}`),F($,`SKU: ${e(c).sku??""}`),F(ve,`IM SKU: ${e(c).imSKU??""}`),F(be,`Seller: ${e(c).seller??""}`),F(ie,`Location: ${e(c).location??""}`),U(n,1,te),F(m,e(c).sold?"Sold - Selected":"Selected")},[()=>`bg-white rounded-xl shadow-md overflow-hidden border-2 transition-all duration-200 relative cursor-pointer
                ${u().find(g=>g.id===e(c).id)?"border-blue-500 shadow-lg":"border-transparent"}
                ${e(c).sold?"opacity-80":""}`,()=>e(c).price.toFixed(2),()=>`py-1 text-center text-sm font-medium
                ${u().find(g=>g.id===e(c).id)?e(c).sold?"bg-red-100 text-red-700":"bg-blue-50 text-blue-700":"hidden"}`],Ee),G("click",J,ur(()=>y()(e(c)))),G("click",j,()=>f()(e(c))),p(_,j)},_=>{var c=il(),j=l(r(c),4),E=r(j,!0);t(j),t(c),se(()=>F(E,b()?"No sold items match your search":"No available items match your search")),p(_,c)}),t(s),p(v,s),Ae()}var vl=Ot('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>'),ul=h("<button><span> </span> <!></button>"),bl=h('<div class="bg-white rounded-xl shadow-lg p-4 mb-2"><div class="relative mb-4"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" class="text-black w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Search by name, SKU, seller or location..."></div> <div class="flex flex-wrap gap-2 mt-2"><div class="flex flex-wrap gap-2"></div> <div class="flex flex-wrap gap-2 ml-auto "><button class="flex items-center min-w-[220px] px-4 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"><!> </button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Refresh stock"><!></button></div> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Add stock"><!></button></div></div>');function gl(v,d){Le(d,!1);let a=I(d,"searchTerm",12,""),u=I(d,"fetchProducts",8),f=I(d,"showPrintModal",12),y=I(d,"selectedProducts",8),b=I(d,"showAddProductModal",12),s=I(d,"handleSort",8),_=I(d,"sortConfig",8),c=I(d,"sortOptions",24,()=>[]);je();var j=bl(),E=r(j),B=l(r(E),2);O(B),t(E);var K=l(E,2),z=r(K);pt(z,5,c,ft,(J,W)=>{var D=ul(),k=r(D),$=r(k,!0);t(k);var de=l(k,2);{var ce=ve=>{var X=vl();se(()=>U(X,0,`ml-1.5 w-4 h-4 ${_().direction==="asc"?"":"transform rotate-180"}`)),p(ve,X)};P(de,ve=>{_().key===e(W).id&&ve(ce)})}t(D),se(()=>{U(D,1,`px-3 py-1.5 text-sm rounded-full border transition-colors flex items-center
                  ${_().key===e(W).id?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-100 border-gray-200 text-gray-700 hover:bg-gray-200"}`),F($,e(W).name)}),G("click",D,()=>s()(e(W).id)),p(J,D)}),t(z);var S=l(z,2),M=r(S),N=r(M);Rt(N,{size:30,class:"mr-2"});var V=l(N);t(M);var R=l(M,2),Y=r(R);fr(Y,{size:30,class:""}),t(R),t(S);var Q=l(S,2),oe=r(Q);pr(oe,{size:30,class:""}),t(Q),t(K),t(j),se(()=>{M.disabled=y().length===0,F(V,` Print Selected (${y().length??""})`)}),H(B,a),G("click",M,()=>{f(!0)}),G("click",R,function(...J){var W;(W=u())==null||W.apply(this,J)}),G("click",Q,()=>{b(!0)}),p(v,j),Ae()}var pl=h('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div> <span class="ml-3 text-gray-600">Loading products...</span></div>'),fl=h('<div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-red-700"> </p> <button class="mt-2 px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200">Retry</button></div></div></div>'),ml=h('<div class="mt-6 flex justify-center"><button class="px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"> </button></div>'),xl=h('<!> <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <span class="font-medium">Total Items</span></div> <div class="text-3xl text-black font-bold mt-2"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Available</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Sold</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div></div> <!> <!>',1),hl=h('<button class="fab-enter fixed bottom-6 right-6 z-50 p-4 bg-blue-600 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white flex items-center justify-center svelte-7fy406"><!> <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center"> </span></button>'),yl=h('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-4 md:p-8"><div class="max-w-7xl mx-auto"><div class="mb-8 text-center"><h1 class="text-3xl md:text-4xl font-bold text-gray-800">Iain Marr Antiques</h1> <p class="text-gray-600 mt-2">Inventory Management System</p></div> <!></div> <!> <!> <!> <!></div>');function Cl(v,d){Le(d,!1);const a=q(),u=q();let f=q([]),y=q([]),b=q(""),s=q(!1),_=q(!1),c=q(null),j=q("products"),E=q(!1),B=q(!1),K=q(null),z=q(!0),S=q({key:"sku",direction:"asc"}),M=q([{id:"sku",name:"SKU"},{id:"name",name:"Name"},{id:"price",name:"Price"}]);const N=(n,m,g="")=>n[m]!==void 0&&n[m]!==""?n[m]:g;async function V(){try{x(B,!0),x(K,null);const n=await fetch(xt+"/get_stock",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const m=await n.json();x(f,m.map(g=>({id:N(g,"SKU NO.",""),name:N(g,"ITEM DESCRIPTION",""),price:Number(N(g,"SELLING PRICE",0)),imSKU:N(g,"IM SKU",""),sku:N(g,"SKU NO.",""),purchasePrice:Number(N(g,"PURCHASE PRICE",0)),seller:N(g,"NAME/ADDRESS SELLER",""),dateBought:N(g,"DATE BOUGHT",""),sold:N(g,"SOLD","FALSE")==="TRUE",commission:N(g,"Commission £",0),dateSold:N(g,"DATE SOLD",""),invoiceNo:N(g,"INVOICE NO. XERO",""),onWebsite:N(g,"ON WEBSITE","FALSE")==="TRUE",location:N(g,"location","")})))}catch(n){console.error("Failed to fetch products:",n),x(K,"Failed to load products. Please try again later.")}finally{x(B,!1)}}Kt(V);function R(n){let m="asc";e(S).key===n&&e(S).direction==="asc"&&(m="desc"),x(S,{key:n,direction:m})}function Y(n){e(y).find(m=>m.id===n.id)?x(y,e(y).filter(m=>m.id!==n.id)):x(y,[...e(y),{...n}])}function Q(){e(y).length===e(u).length?x(y,[]):x(y,[...e(u)])}function oe(n){x(c,{...n}),x(j,"products"),x(s,!0)}function J(){x(E,!0)}Mt(()=>(e(f),e(S)),()=>{x(a,[...e(f)].sort((n,m)=>{let g=n[e(S).key],T=m[e(S).key];if(e(S).key==="sku")return e(S).direction==="asc"?0:-1;if(typeof g=="number"&&typeof T=="number")return e(S).direction==="asc"?g-T:T-g;if(typeof g=="string"&&typeof T=="string"){if(g=g.toLowerCase(),T=T.toLowerCase(),g<T)return e(S).direction==="asc"?-1:1;if(g>T)return e(S).direction==="asc"?1:-1}return 0}))}),Mt(()=>(e(a),e(z),e(b)),()=>{x(u,e(a).filter(n=>(e(z)||!n.sold)&&(String(n.name||"").toLowerCase().includes(e(b).toLowerCase())||String(n.imSKU||"").toLowerCase().includes(e(b).toLowerCase())||String(n.sku||"").toLowerCase().includes(e(b).toLowerCase())||String(n.seller||"").toLowerCase().includes(e(b).toLowerCase())||String(n.location||"").toLowerCase().includes(e(b).toLowerCase()))))}),Ht(),je();var W=yl();Yt(n=>{cr.title="Iain Marr Antiques"});var D=r(W),k=l(r(D),2);{var $=n=>{var m=pl();p(n,m)},de=(n,m)=>{{var g=te=>{var le=fl(),ae=r(le),re=l(r(ae),2),ee=r(re),pe=r(ee,!0);t(ee);var fe=l(ee,2);t(re),t(ae),t(le),se(()=>F(pe,e(K))),G("click",fe,V),p(te,le)},T=te=>{var le=xl(),ae=$e(le);gl(ae,{handleSort:R,openPrintModal:J,fetchProducts:V,get sortConfig(){return e(S)},set sortConfig(L){x(S,L)},get sortOptions(){return e(M)},set sortOptions(L){x(M,L)},get showAddProductModal(){return e(_)},set showAddProductModal(L){x(_,L)},get searchTerm(){return e(b)},set searchTerm(L){x(b,L)},get showSoldItems(){return e(z)},set showSoldItems(L){x(z,L)},get showPrintModal(){return e(E)},set showPrintModal(L){x(E,L)},get selectedProducts(){return e(y)},set selectedProducts(L){x(y,L)},$$legacy:!0});var re=l(ae,2),ee=r(re),pe=l(r(ee),2),fe=r(pe,!0);t(pe),t(ee);var ge=l(ee,2),me=l(r(ge),2),xe=r(me,!0);t(me),t(ge);var ne=l(ge,2),we=l(r(ne),2),Be=r(we,!0);t(we),t(ne),t(re);var Se=l(re,2);cl(Se,{toggleProduct:Y,openEditModal:oe,get filteredProducts(){return e(u)},set filteredProducts(L){x(u,L)},get selectedProducts(){return e(y)},set selectedProducts(L){x(y,L)},get showSoldItems(){return e(z)},set showSoldItems(L){x(z,L)},$$legacy:!0});var We=l(Se,2);{var Me=L=>{var ye=ml(),_e=r(ye),ze=r(_e,!0);t(_e),t(ye),se(()=>F(ze,e(y).length===e(u).length?"Deselect All":"Select All")),G("click",_e,Q),p(L,ye)};P(We,L=>{e(u).length>0&&L(Me)})}se((L,ye)=>{F(fe,e(f).length),F(xe,L),F(Be,ye)},[()=>e(f).filter(L=>!L.sold).length,()=>e(f).filter(L=>L.sold).length],Ee),p(te,le)};P(n,te=>{e(K)?te(g):te(T,!1)},m)}};P(k,n=>{e(B)?n($):n(de,!1)})}t(D);var ce=l(D,2);{var ve=n=>{var m=hl(),g=r(m);Rt(g,{size:30});var T=l(g,2),te=r(T,!0);t(T),t(m),se(()=>F(te,e(y).length)),G("click",m,J),p(n,m)};P(ce,n=>{e(y).length>0&&n(ve)})}var X=l(ce,2);{var ue=n=>{Jr(n,{get editedProduct(){return e(c)},set editedProduct(m){x(c,m)},get showEditProductModal(){return e(s)},set showEditProductModal(m){x(s,m)},get activeTab(){return e(j)},set activeTab(m){x(j,m)},get products(){return e(f)},set products(m){x(f,m)},$$legacy:!0})};P(X,n=>{e(s)&&n(ue)})}var be=l(X,2);{var w=n=>{$r(n,{get showAddProductModal(){return e(_)},set showAddProductModal(m){x(_,m)},get products(){return e(f)},set products(m){x(f,m)},$$legacy:!0})};P(be,n=>{e(_)&&n(w)})}var C=l(be,2);{var ie=n=>{al(n,{get selectedProducts(){return e(y)},set selectedProducts(m){x(y,m)},get showPrintModal(){return e(E)},set showPrintModal(m){x(E,m)},$$legacy:!0})};P(C,n=>{e(E)&&n(ie)})}t(W),p(v,W),Ae()}export{Cl as component};
