import{k as lr,l as or,o as Lt,p as qt,a as b,c as De,t as y,q as R,s as G,b as pt,r as ir}from"../chunks/foFxs5JA.js";import{i as lt}from"../chunks/DIZ1sQIQ.js";import{h as Je,a as It,d as Et,b as dr,E as nr,c as cr,aM as vr,af as ur,ag as pr,P as Rt,O as Ut,H as br,p as fr,Q as gr,ap as mr,aN as xr,u as Dt,r as Jt,e as Zt,f as ot,j as r,s as a,k as t,t as ne,$ as qe,i as it,g as je,w as e,aO as T,aP as _e,F as n,aQ as Oe,ac as Gt,aR as Xe,x as zt,aS as Mt,a2 as Kt,aT as hr,aU as wr}from"../chunks/z9wYe7VO.js";import{b as yr,l as Ze,p as V,s as dt,i as $}from"../chunks/BYMvGGKb.js";import"../chunks/DklK88-m.js";import{e as kt,i as Pt,s as et,a as Ht,r as K,b as F,t as xt,c as _r,d as kr}from"../chunks/DGeCGVkO.js";function Pr(i,o,s,f,u,x){let v=Je;Je&&It();var l,N,C=null;Je&&Et.nodeType===1&&(C=Et,It());var M=Je?Et:i,_;dr(()=>{const h=o()||null;var B=vr;h!==l&&(_&&(h===null?fr(_,()=>{_=null,N=null}):h===N?gr(_):mr(_)),h&&h!==N&&(_=cr(()=>{if(C=Je?C:document.createElementNS(B,h),lr(C,C),f){Je&&or(h)&&C.append(document.createComment(""));var E=Je?ur(C):C.appendChild(pr());Je&&(E===null?Rt(!1):Ut(E)),f(C,E)}br.nodes_end=C,M.before(C)})),l=h,l&&(N=l))},nr),v&&(Rt(!0),Ut(M))}function ae(i,o,s=o){var f=xr();Lt(i,"input",u=>{var x=u?i.defaultValue:i.value;if(x=jt(i)?Nt(x):x,s(x),f&&x!==(x=o())){var v=i.selectionStart,l=i.selectionEnd;i.value=x??"",l!==null&&(i.selectionStart=v,i.selectionEnd=Math.min(l,i.value.length))}}),(Je&&i.defaultValue!==i.value||Dt(o)==null&&i.value)&&s(jt(i)?Nt(i.value):i.value),Jt(()=>{var u=o();jt(i)&&u===Nt(i.value)||i.type==="date"&&!u&&!i.value||u!==i.value&&(i.value=u??"")})}function bt(i,o,s=o){Lt(i,"change",f=>{var u=f?i.defaultChecked:i.checked;s(u)}),(Je&&i.defaultChecked!==i.checked||Dt(o)==null)&&s(i.checked),Jt(()=>{var f=o();i.checked=!!f})}function jt(i){var o=i.type;return o==="number"||o==="range"}function Nt(i){return i===""?null:+i}function Yt(i,o,s){if(i.multiple)return $r(i,o);for(var f of i.options){var u=_t(f);if(yr(u,o)){f.selected=!0;return}}(!s||o!==void 0)&&(i.selectedIndex=-1)}function Sr(i,o){Zt(()=>{var s=new MutationObserver(()=>{var f=i.__value;Yt(i,f)});return s.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{s.disconnect()}})}function Mr(i,o,s=o){var f=!0;Lt(i,"change",u=>{var x=u?"[selected]":":checked",v;if(i.multiple)v=[].map.call(i.querySelectorAll(x),_t);else{var l=i.querySelector(x)??i.querySelector("option:not([disabled])");v=l&&_t(l)}s(v)}),Zt(()=>{var u=o();if(Yt(i,u,f),f&&u===void 0){var x=i.querySelector(":checked");x!==null&&(u=_t(x),s(u))}i.__value=u,f=!1}),Sr(i)}function $r(i,o){for(var s of i.options)s.selected=~o.indexOf(_t(s))}function _t(i){return"__value"in i?i.__value:i.value}function Bt(i){return function(...o){var s=o[0];return s.stopPropagation(),i==null?void 0:i.apply(this,o)}}/**
 * @license lucide-svelte v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Er=qt("<svg><!><!></svg>");function nt(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]),f=Ze(s,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);ot(o,!1);let u=V(o,"name",8,void 0),x=V(o,"color",8,"currentColor"),v=V(o,"size",8,24),l=V(o,"strokeWidth",8,2),N=V(o,"absoluteStrokeWidth",8,!1),C=V(o,"iconNode",24,()=>[]);const M=(...H)=>H.filter((j,z,w)=>!!j&&w.indexOf(j)===z).join(" ");lt();var _=Er();let h;var B=r(_);kt(B,1,C,Pt,(H,j)=>{let z=()=>e(j)[0],w=()=>e(j)[1];var L=De(),D=je(L);Pr(D,z,!0,(J,le)=>{let Q;ne(()=>Q=Ht(J,Q,{...w()}))}),b(H,L)});var E=a(B);et(E,o,"default",{},null),t(_),ne((H,j)=>h=Ht(_,h,{...Cr,...f,width:v(),height:v(),stroke:x(),"stroke-width":H,class:j}),[()=>N()?Number(l())*24/Number(v()):l(),()=>M("lucide-icon","lucide",u()?`lucide-${u()}`:"",s.class)],qe),b(i,_),it()}function jr(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]);nt(i,dt({name:"circle-plus"},()=>s,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(u,x)=>{var v=De(),l=je(v);et(l,o,"default",{},null),b(u,v)},$$slots:{default:!0}}))}function Nr(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]);nt(i,dt({name:"folder-sync"},()=>s,{iconNode:[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5"}],["path",{d:"M12 10v4h4"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5"}],["path",{d:"M22 22v-4h-4"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5"}]],children:(u,x)=>{var v=De(),l=je(v);et(l,o,"default",{},null),b(u,v)},$$slots:{default:!0}}))}function Ft(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]);nt(i,dt({name:"power"},()=>s,{iconNode:[["path",{d:"M12 2v10"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04"}]],children:(u,x)=>{var v=De(),l=je(v);et(l,o,"default",{},null),b(u,v)},$$slots:{default:!0}}))}function Qt(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]);nt(i,dt({name:"printer"},()=>s,{iconNode:[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]],children:(u,x)=>{var v=De(),l=je(v);et(l,o,"default",{},null),b(u,v)},$$slots:{default:!0}}))}function zr(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]);nt(i,dt({name:"refresh-cw"},()=>s,{iconNode:[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]],children:(u,x)=>{var v=De(),l=je(v);et(l,o,"default",{},null),b(u,v)},$$slots:{default:!0}}))}function Br(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]);nt(i,dt({name:"settings"},()=>s,{iconNode:[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(u,x)=>{var v=De(),l=je(v);et(l,o,"default",{},null),b(u,v)},$$slots:{default:!0}}))}function Vt(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]);nt(i,dt({name:"wifi-off"},()=>s,{iconNode:[["path",{d:"M12 20h.01"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764"}],["path",{d:"m2 2 20 20"}]],children:(u,x)=>{var v=De(),l=je(v);et(l,o,"default",{},null),b(u,v)},$$slots:{default:!0}}))}function Wt(i,o){const s=Ze(o,["children","$$slots","$$events","$$legacy"]);nt(i,dt({name:"wifi"},()=>s,{iconNode:[["path",{d:"M12 20h.01"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0"}]],children:(u,x)=>{var v=De(),l=je(v);et(l,o,"default",{},null),b(u,v)},$$slots:{default:!0}}))}const ft="http://localhost:8080";var Lr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Ar=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Tr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Or=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Ir=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Rr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Ur=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Kr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Hr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Fr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Vr=y('<svg class=" animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Adding...</span>',1),Wr=y('<span class="text-white">Add Product</span>'),qr=y(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Add Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                        but you may want to review them before saving.</p></div></div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button><!></button></div></div></div>`);function Dr(i,o){ot(o,!1),V(o,"saveEditedProduct",8);let s=V(o,"showAddProductModal",12),f=V(o,"products",8),u=T(!1);function x(d){const I=d.match(/^([A-Za-z\s]*)(\d+)([A-Za-z]*)$/);if(!I)return console.error("Invalid SKU format:",d),d;const Te=I[1],ut=parseInt(I[2],10),wt=I[3],st=ut+1;return`${Te}${st}${wt}`}let v=f()[f().length-1].sku;console.log(v);let l=T({id:x(v),name:"",price:0,imSKU:"",sku:x(v),purchasePrice:0,seller:"",dateBought:"",sold:!1,commission:0,dateSold:"",invoiceNo:"",onWebsite:!1,location:""});async function N(){n(u,!0);try{const d=await fetch(ft+"/add_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({product:e(l)})});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const I=await d.json();xt.success("Product added successfully!"),s(!1)}catch(d){console.error("Failed to add product:",d),xt.error("Failed to add product. Please try again.")}finally{n(u,!1)}}function C(d){return d===""||d===0||d===null||d===void 0}lt();var M=qr(),_=r(M),h=r(_),B=a(r(h),2);t(h);var E=a(h,2),H=r(E),j=r(H),z=r(j),w=a(r(z),2);K(w),F(w,1,"border-gray-300 bg-gray-100 text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed"),t(z);var L=a(z,2),D=r(L),J=a(r(D),2);{var le=d=>{var I=Lr();b(d,I)};$(J,d=>{C(e(l).imSKU)&&d(le)})}t(D);var Q=a(D,2);K(Q),t(L),t(j);var ee=a(j,2),me=r(ee),A=a(r(me),2);{var U=d=>{var I=Ar();b(d,I)};$(A,d=>{C(e(l).name)&&d(U)})}t(me);var xe=a(me,2);K(xe),t(ee);var he=a(ee,2),ge=r(he),X=r(ge),Y=a(r(X),2);{var pe=d=>{var I=Tr();b(d,I)};$(Y,d=>{e(l).price===0&&d(pe)})}t(X);var ie=a(X,2);K(ie),t(ge);var ce=a(ge,2),ke=r(ce),g=a(r(ke),2);{var c=d=>{var I=Or();b(d,I)};$(g,d=>{e(l).purchasePrice===0&&d(c)})}t(ke);var P=a(ke,2);K(P),t(ce),t(he);var k=a(he,2),W=r(k),q=r(W),de=a(r(q),2);{var re=d=>{var I=Ir();b(d,I)};$(de,d=>{C(e(l).seller)&&d(re)})}t(q);var Z=a(q,2);K(Z),t(W);var te=a(W,2),be=r(te),we=a(r(be),2);{var Me=d=>{var I=Rr();b(d,I)};$(we,d=>{C(e(l).location)&&d(Me)})}t(be);var $e=a(be,2);K($e),t(te),t(k);var Ne=a(k,2),Ie=r(Ne),Ce=r(Ie),ze=a(r(Ce),2);{var O=d=>{var I=Ur();b(d,I)};$(ze,d=>{C(e(l).dateBought)&&d(O)})}t(Ce);var Be=a(Ce,2);K(Be),t(Ie);var Le=a(Ie,2),Ve=r(Le),Re=a(r(Ve),2);{var Ge=d=>{var I=Kr();b(d,I)};$(Re,d=>{C(e(l).dateSold)&&d(Ge)})}t(Ve);var ve=a(Ve,2);K(ve),t(Le),t(Ne);var Pe=a(Ne,2),Ue=r(Pe),Ke=r(Ue),se=a(r(Ke),2);{var We=d=>{var I=Hr();b(d,I)};$(se,d=>{e(l).commission===0&&d(We)})}t(Ke);var Ye=a(Ke,2);K(Ye),t(Ue);var gt=a(Ue,2),ct=r(gt),tt=a(r(ct),2);{var vt=d=>{var I=Fr();b(d,I)};$(tt,d=>{C(e(l).invoiceNo)&&d(vt)})}t(ct);var p=a(ct,2);K(p),t(gt),t(Pe);var S=a(Pe,2),oe=r(S),ye=a(r(oe),2),Se=r(ye);K(Se),_e(2),t(ye),t(oe);var fe=a(oe,2),Ee=a(r(fe),2),He=r(Ee);K(He),_e(2),t(Ee),t(fe),t(S),_e(2),t(H),t(E);var Qe=a(E,2),Fe=r(Qe),Ae=a(Fe,2);let rt;var at=r(Ae);{var ht=d=>{var I=Vr();_e(2),b(d,I)},mt=d=>{var I=Wr();b(d,I)};$(at,d=>{e(u)?d(ht):d(mt,!1)})}t(Ae),t(Qe),t(_),t(M),ne((d,I,Te,ut,wt,st,St,yt)=>{F(Q,1,d),F(xe,1,I),F(ie,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(l).price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),F(P,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(l).purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),F(Z,1,Te),F($e,1,ut),F(Be,1,wt),F(ve,1,st),F(Ye,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(l).commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),F(p,1,St),rt=F(Ae,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed",null,rt,yt),Ae.disabled=e(u)},[()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${C(e(l).imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                            ${C(e(l).name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${C(e(l).seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${C(e(l).location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${C(e(l).dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${C(e(l).dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${C(e(l).invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>({"bg-blue-600":!e(u),"bg-gray-400":e(u),"hover:bg-blue-700":!e(u)})],qe),R("click",B,()=>{s(!1)}),ae(w,()=>e(l).sku,d=>Oe(l,e(l).sku=d)),ae(Q,()=>e(l).imSKU,d=>Oe(l,e(l).imSKU=d)),ae(xe,()=>e(l).name,d=>Oe(l,e(l).name=d)),ae(ie,()=>e(l).price,d=>Oe(l,e(l).price=d)),ae(P,()=>e(l).purchasePrice,d=>Oe(l,e(l).purchasePrice=d)),ae(Z,()=>e(l).seller,d=>Oe(l,e(l).seller=d)),ae($e,()=>e(l).location,d=>Oe(l,e(l).location=d)),ae(Be,()=>e(l).dateBought,d=>Oe(l,e(l).dateBought=d)),ae(ve,()=>e(l).dateSold,d=>Oe(l,e(l).dateSold=d)),ae(Ye,()=>e(l).commission,d=>Oe(l,e(l).commission=d)),ae(p,()=>e(l).invoiceNo,d=>Oe(l,e(l).invoiceNo=d)),bt(Se,()=>e(l).onWebsite,d=>Oe(l,e(l).onWebsite=d)),bt(He,()=>e(l).sold,d=>Oe(l,e(l).sold=d)),R("click",Fe,()=>{s(!1)}),R("click",Ae,N),b(i,M),it()}var Jr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Zr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Gr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Yr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Qr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Xr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),ea=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),ta=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),ra=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),aa=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),sa=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),la=y(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label> <!></div> <input type="text" disabled></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded svelte-1mfa054"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded svelte-1mfa054"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg svelte-1mfa054"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                                but you may want to review them before saving.</p></div></div>`),oa=y('<div class="bg-gray-50 p-4 rounded-lg mb-4"><div class="flex items-center"><svg class="w-5 h-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg> <h3 class="font-medium">Label Preview</h3></div> <p class="text-sm text-gray-600 mt-1">This is a preview of how the label will look</p></div> <div class="border border-gray-300 rounded-lg p-6 max-w-xs mx-auto"><div class="text-center mb-4"><div class="text-xl font-bold">Iain Marr Antiques</div> <div class="text-xs text-gray-500">Est. 1990</div></div> <div class="text-center mb-2"><div class="font-semibold text-lg"> </div> <div class="text-2xl font-bold text-blue-700"> </div></div> <div class="flex justify-between text-xs mt-4"><div> </div> <div> </div></div> <div class="mt-6 text-center text-xs text-gray-500"><div> </div> <div> </div></div></div>',1),ia=y('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white svelte-1mfa054" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Saving...</span>',1),da=y('<span class="text-white">Save Changes</span>'),na=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600 svelte-1mfa054"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>  <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 svelte-1mfa054">Cancel</button> <button><!></button></div></div></div>');function ca(i,o){ot(o,!1);let s=V(o,"editedProduct",12),f=V(o,"showEditProductModal",12),u=V(o,"activeTab",8),x=V(o,"products",12),v=T(!1),l=T(null);function N(A){return A===""||A===0||A===null||A===void 0}function C(){return JSON.stringify(e(l))!==JSON.stringify(s())}async function M(A){try{const U=await fetch(ft+"/modify_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({editedProduct:A})});if(!U.ok)throw new Error(`HTTP error! status: ${U.status}`);return await U.json()}catch(U){throw console.error("Failed to update product:",U),new Error("Failed to update product. Please try again later.")}}async function _(){if(C()){n(v,!0);try{await M(s()),x(x().map(A=>A.id===s().id?s():A)),n(l,JSON.parse(JSON.stringify(s()))),xt.success("Product updated successfully!"),f(!1)}catch(A){console.error("Save error:",A),xt.error(A.message||"Failed to update product","error")}finally{n(v,!1)}}}Gt(()=>{s()&&(n(l,JSON.parse(JSON.stringify(s()))),console.log(e(l)))}),Xe(()=>(zt(s()),e(l)),()=>{s()&&!e(l)&&n(l,JSON.parse(JSON.stringify(s())))}),Mt(),lt();var h=na(),B=r(h),E=r(B),H=a(r(E),2);t(E);var j=a(E,2),z=r(j);{var w=A=>{var U=De(),xe=je(U);{var he=X=>{var Y=la(),pe=r(Y),ie=r(pe),ce=r(ie),ke=a(r(ce),2);{var g=m=>{var ue=Jr();b(m,ue)};$(ke,m=>{N(s().sku)&&m(g)})}t(ce);var c=a(ce,2);K(c),t(ie);var P=a(ie,2),k=r(P),W=a(r(k),2);{var q=m=>{var ue=Zr();b(m,ue)};$(W,m=>{N(s().imSKU)&&m(q)})}t(k);var de=a(k,2);K(de),t(P),t(pe);var re=a(pe,2),Z=r(re),te=a(r(Z),2);{var be=m=>{var ue=Gr();b(m,ue)};$(te,m=>{N(s().name)&&m(be)})}t(Z);var we=a(Z,2);K(we),t(re);var Me=a(re,2),$e=r(Me),Ne=r($e),Ie=a(r(Ne),2);{var Ce=m=>{var ue=Yr();b(m,ue)};$(Ie,m=>{s().price===0&&m(Ce)})}t(Ne);var ze=a(Ne,2);K(ze),t($e);var O=a($e,2),Be=r(O),Le=a(r(Be),2);{var Ve=m=>{var ue=Qr();b(m,ue)};$(Le,m=>{s().purchasePrice===0&&m(Ve)})}t(Be);var Re=a(Be,2);K(Re),t(O),t(Me);var Ge=a(Me,2),ve=r(Ge),Pe=r(ve),Ue=a(r(Pe),2);{var Ke=m=>{var ue=Xr();b(m,ue)};$(Ue,m=>{N(s().seller)&&m(Ke)})}t(Pe);var se=a(Pe,2);K(se),t(ve);var We=a(ve,2),Ye=r(We),gt=a(r(Ye),2);{var ct=m=>{var ue=ea();b(m,ue)};$(gt,m=>{N(s().location)&&m(ct)})}t(Ye);var tt=a(Ye,2);K(tt),t(We),t(Ge);var vt=a(Ge,2),p=r(vt),S=r(p),oe=a(r(S),2);{var ye=m=>{var ue=ta();b(m,ue)};$(oe,m=>{N(s().dateBought)&&m(ye)})}t(S);var Se=a(S,2);K(Se),t(p);var fe=a(p,2),Ee=r(fe),He=a(r(Ee),2);{var Qe=m=>{var ue=ra();b(m,ue)};$(He,m=>{N(s().dateSold)&&m(Qe)})}t(Ee);var Fe=a(Ee,2);K(Fe),t(fe),t(vt);var Ae=a(vt,2),rt=r(Ae),at=r(rt),ht=a(r(at),2);{var mt=m=>{var ue=aa();b(m,ue)};$(ht,m=>{s().commission===0&&m(mt)})}t(at);var d=a(at,2);K(d),t(rt);var I=a(rt,2),Te=r(I),ut=a(r(Te),2);{var wt=m=>{var ue=sa();b(m,ue)};$(ut,m=>{N(s().invoiceNo)&&m(wt)})}t(Te);var st=a(Te,2);K(st),t(I),t(Ae);var St=a(Ae,2),yt=r(St),At=a(r(yt),2),$t=r(At);K($t),_e(2),t(At),t(yt);var Tt=a(yt,2),Ot=a(r(Tt),2),Ct=r(Ot);K(Ct),_e(2),t(Ot),t(Tt),t(St),_e(2),t(Y),ne((m,ue,Xt,er,tr,rr,ar,sr)=>{F(c,1,m,"svelte-1mfa054"),F(de,1,ue,"svelte-1mfa054"),de.disabled=e(v),F(we,1,Xt,"svelte-1mfa054"),we.disabled=e(v),F(ze,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${s().price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),ze.disabled=e(v),F(Re,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${s().purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),Re.disabled=e(v),F(se,1,er,"svelte-1mfa054"),se.disabled=e(v),F(tt,1,tr,"svelte-1mfa054"),tt.disabled=e(v),F(Se,1,rr,"svelte-1mfa054"),Se.disabled=e(v),F(Fe,1,ar,"svelte-1mfa054"),Fe.disabled=e(v),F(d,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${s().commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),d.disabled=e(v),F(st,1,sr,"svelte-1mfa054"),st.disabled=e(v),$t.disabled=e(v),Ct.disabled=e(v)},[()=>`text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed
                                        ${N(s().sku)?"border-yellow-400 bg-yellow-50":"border-gray-300 bg-gray-100"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${N(s().imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                    ${N(s().name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${N(s().seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${N(s().location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${N(s().dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${N(s().dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${N(s().invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`],qe),ae(c,()=>s().sku,m=>s(s().sku=m,!0)),ae(de,()=>s().imSKU,m=>s(s().imSKU=m,!0)),ae(we,()=>s().name,m=>s(s().name=m,!0)),ae(ze,()=>s().price,m=>s(s().price=m,!0)),ae(Re,()=>s().purchasePrice,m=>s(s().purchasePrice=m,!0)),ae(se,()=>s().seller,m=>s(s().seller=m,!0)),ae(tt,()=>s().location,m=>s(s().location=m,!0)),ae(Se,()=>s().dateBought,m=>s(s().dateBought=m,!0)),ae(Fe,()=>s().dateSold,m=>s(s().dateSold=m,!0)),ae(d,()=>s().commission,m=>s(s().commission=m,!0)),ae(st,()=>s().invoiceNo,m=>s(s().invoiceNo=m,!0)),bt($t,()=>s().onWebsite,m=>s(s().onWebsite=m,!0)),bt(Ct,()=>s().sold,m=>s(s().sold=m,!0)),b(X,Y)},ge=X=>{var Y=oa(),pe=a(je(Y),2),ie=a(r(pe),2),ce=r(ie),ke=r(ce,!0);t(ce);var g=a(ce,2),c=r(g);t(g),t(ie);var P=a(ie,2),k=r(P),W=r(k);t(k);var q=a(k,2),de=r(q);t(q),t(P);var re=a(P,2),Z=r(re),te=r(Z,!0);t(Z);var be=a(Z,2),we=r(be,!0);t(be),t(re),t(pe),ne((Me,$e)=>{G(ke,s().name),G(c,`£${Me??""}`),G(W,`SKU: ${s().sku??""}`),G(de,`IM: ${s().imSKU??""}`),G(te,s().location),G(we,$e)},[()=>s().price.toFixed(2),()=>new Date().toLocaleDateString("en-GB")],qe),b(X,Y)};$(xe,X=>{u()==="products"?X(he):X(ge,!1)})}b(A,U)};$(z,A=>{s()&&A(w)})}t(j);var L=a(j,2),D=r(L),J=a(D,2);let le;var Q=r(J);{var ee=A=>{var U=ia();_e(2),b(A,U)},me=A=>{var U=da();b(A,U)};$(Q,A=>{e(v)?A(ee):A(me,!1)})}t(J),t(L),t(B),t(h),ne((A,U)=>{H.disabled=e(v),D.disabled=e(v),le=F(J,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed svelte-1mfa054",null,le,A),J.disabled=U},[()=>({"bg-blue-600":!e(v)&&C(),"bg-gray-400":!C()||e(v),"hover:bg-blue-700":!e(v)&&C()}),()=>!C()||e(v)],qe),R("click",H,()=>{f(!1)}),R("click",D,()=>{f(!1)}),R("click",J,_),b(i,h),it()}var va=y('<div class="space-y-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">SKU</label> <input type="text" class="text-black/50 w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed" disabled></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Product Name</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div> <div><label class="text-black block text-sm font-medium text-gray-700 mb-1">Selling Price (£)</label> <input type="number" step="0.01" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div>'),ua=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button class="px-5 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700">Save Changes</button></div></div></div>');function pa(i,o){ot(o,!1);let s=V(o,"showEditPrintModal",12),f=V(o,"editedProduct",12),u=V(o,"selectedProducts",12);function x(){f()&&(u(u().map(j=>j.id===f().id?f():j)),f(null),s(!1))}lt();var v=ua(),l=r(v),N=r(l),C=a(r(N),2);t(N);var M=a(N,2),_=r(M);{var h=j=>{var z=va(),w=r(z),L=a(r(w),2);K(L),t(w);var D=a(w,2),J=a(r(D),2);K(J),t(D);var le=a(D,2),Q=a(r(le),2);K(Q),t(le),t(z),ae(L,()=>f().sku,ee=>f(f().sku=ee,!0)),ae(J,()=>f().name,ee=>f(f().name=ee,!0)),ae(Q,()=>f().price,ee=>f(f().price=ee,!0)),b(j,z)};$(_,j=>{f()&&j(h)})}t(M);var B=a(M,2),E=r(B),H=a(E,2);t(B),t(l),t(v),R("click",C,()=>{s(!1)}),R("click",E,()=>{s(!1)}),R("click",H,x),b(i,v),it()}var ba=y('<div class="flex items-center justify-between mt-1"><button type="button" class="bg-white text-gray-600 hover:bg-gray-100 border border-gray-300 rounded p-1 h-6 w-6 flex items-center justify-center text-lg">-</button> <span class="text-xs font-medium text-gray-700"> </span> <button type="button" class="bg-white text-gray-600 hover:bg-gray-100 border border-gray-300 rounded p-1 h-6 w-6 flex items-center justify-center text-lg">+</button></div>'),fa=y('<p class="text-xs text-green-600">No print copy</p>'),ga=y('<div class="flex items-center mt-2 text-red-600"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-sm font-medium"> </p></div>'),ma=y('<p class="mt-1 text-sm text-purple-600">The receipt will be sent to this email address.</p>'),xa=y('<div><p class="block text-sm font-medium text-purple-700 mb-2">Email Address <span class="text-red-500">*</span></p> <input id="emailAddress" type="email" placeholder="Enter customer email address" required> <!></div>'),ha=y('<p class="text-sm text-gray-500 mt-1">Click the X button to remove items from the list</p>'),wa=y('<span class="ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full">Sold</span>'),ya=y('<div><div class="flex-1 min-w-0"><div class="flex items-center"><h3 class="font-semibold text-gray-800 truncate"> </h3> <!></div> <div class="flex items-center mt-1 text-sm"><span class="font-medium text-blue-600"> </span> <span class="mx-2 text-gray-300">•</span> <span class="text-gray-600 truncate"> </span></div></div> <div class="flex items-center space-x-2"><button class="p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors flex items-center group" title="Edit Print Info"><svg class="w-5 h-5 text-blue-600 group-hover:text-blue-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="ml-1 text-sm font-medium text-blue-600 group-hover:text-blue-800 hidden md:inline">Edit</span></button> <button class="p-2 bg-red-50 rounded-full hover:bg-red-100 transition-colors flex items-center group" title="Remove from list"><svg class="w-5 h-5 text-red-500 group-hover:text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> <span class="ml-1 text-sm font-medium text-red-500 group-hover:text-red-700 hidden md:inline">Remove</span></button></div></div>'),_a=y('<div class="text-center py-8"><svg class="w-16 h-16 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path></svg> <h3 class="mt-4 text-lg font-medium text-gray-900">No products selected</h3> <p class="mt-1 text-gray-500">Select items from your inventory to print receipts</p></div>'),ka=y('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Processing...</span>',1),Pa=y('<span class="text-white"> </span>'),Sa=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Print Receipts</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div class="mb-6"><label for="customerName" class="block text-sm font-medium text-gray-700 mb-2">Customer Name (Optional)</label> <input id="customerName" type="text" placeholder="Enter customer name for receipt" class="w-full px-4 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"> <p class="mt-1 text-sm text-gray-500">The customer name will be printed on the receipt if provided.</p></div> <div class="mb-6"><div class="grid grid-cols-3 gap-3"><div class="p-3 bg-purple-50 rounded-lg border border-purple-200 cursor-pointer h-full"><div class="flex items-center justify-between mb-2"><div class="flex items-center"><input id="emailReceipt" type="checkbox" class="h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"> <p class="ml-2 block text-sm font-medium text-gray-700">Email Receipt</p></div> <svg class="w-4 h-4 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div> <p class="text-xs text-purple-600"><!></p></div>  <div class="p-3 bg-blue-50 rounded-lg border border-blue-200 cursor-pointer h-full"><div class="flex items-center justify-between mb-2"><div class="flex items-center"><input id="markAsSold" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <p class="ml-2 block text-sm font-medium text-gray-700">Mark as Sold</p></div> <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <p class="text-xs text-blue-600"><!></p></div>  <div class="p-3 bg-green-50 rounded-lg border border-green-200 cursor-pointer h-full"><div class="flex items-center justify-between mb-2"><div class="flex items-center"><input id="printReceipt" type="checkbox" class="h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"> <p class="ml-2 block text-sm font-medium text-gray-700">Print Receipt</p></div> <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2z"></path></svg></div> <!></div></div></div> <!> <div><div class="mb-4"><p class="text-gray-600"> </p> <!></div> <div class="space-y-3 "></div></div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Back</button> <button><!></button></div></div></div> <!>',1);function Ma(i,o){ot(o,!1);const s=T();let f=V(o,"showPrintModal",12),u=V(o,"selectedProducts",12),x=V(o,"products",12),v=T(!1),l=T(),N=T(null),C=T(""),M=T(!0),_=T(!0),h=T(!1),B=T(""),E=T(""),H=T(),j=T(1);function z(p){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)}function w(p){if(n(B,p.target.value),!e(B)){n(E,"");return}z(e(B))?n(E,""):n(E,"Please enter a valid email address")}async function L(){if(e(h)&&e(B)&&!z(e(B))){n(E,"Please enter a valid email address");return}n(v,!0);try{const p={selectedProducts:u(),customerName:e(C),logSold:e(M),duplicateCount:e(_)?e(j):0};e(h)&&e(B)&&(p.emailReceipt=!0,p.emailAddress=e(B));const S=await fetch(ft+"/print_labels",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(p)}),oe=await S.json();if(!S.ok)throw oe.error?new Error(oe.error):new Error(`HTTP error! status: ${S.status}`);if(e(M)){const Se=new Set(u().map(fe=>fe.id));x(x().map(fe=>Se.has(fe.id)?{...fe,sold:!0}:fe)),u(u().map(fe=>({...fe,sold:!0})))}let ye=`Successfully processed ${u().length} item(s)!`;e(_)&&(ye+=` Printed ${e(j)} copy(s).`),e(h)&&e(B)&&(ye+=` Email sent to ${e(B)}.`),e(M)&&(ye+=" Items marked as sold."),xt.success(ye),u([]),n(C,""),n(M,!0),n(_,!0),n(h,!1),n(B,""),n(E,""),f(!1)}catch(p){console.error("Failed to process request",p),xt.error(p.message||"Failed to process request. Please check the console for details.")}finally{n(v,!1)}}function D(p){u(u().filter(S=>S.id!==p.id))}Xe(()=>(e(_),e(j),e(h),e(M)),()=>{n(s,(()=>{const p=[];return e(_)&&p.push(`Print${e(j)>1?` (${e(j)})`:""}`),e(h)&&p.push("Email"),e(M)&&p.push("Mark Sold"),p.length===0?"Confirm":p.join(" & ")})())}),Xe(()=>(e(h),e(B)),()=>{e(h)&&e(B)&&!z(e(B))?n(E,"Please enter a valid email address"):e(h)&&!e(B)?n(E,"Email address is required"):n(E,"")}),Xe(()=>e(h),()=>{e(h)||n(E,"")}),Mt(),lt();var J=Sa(),le=je(J),Q=r(le),ee=r(Q),me=a(r(ee),2);t(ee);var A=a(ee,2),U=r(A),xe=a(r(U),2);K(xe),_e(2),t(U);var he=a(U,2),ge=r(he),X=r(ge),Y=r(X),pe=r(Y),ie=r(pe);K(ie),_e(2),t(pe),_e(2),t(Y);var ce=a(Y,2),ke=r(ce);{var g=p=>{var S=pt("Email receipt will be sent");b(p,S)},c=p=>{var S=pt("No email receipt");b(p,S)};$(ke,p=>{e(h)?p(g):p(c,!1)})}t(ce),t(X);var P=a(X,2),k=r(P),W=r(k),q=r(W);K(q),_e(2),t(W),_e(2),t(k);var de=a(k,2),re=r(de);{var Z=p=>{var S=pt("Items will be marked as sold");b(p,S)},te=p=>{var S=pt("Items remain available");b(p,S)};$(re,p=>{e(M)?p(Z):p(te,!1)})}t(de),t(P);var be=a(P,2),we=r(be),Me=r(we),$e=r(Me);K($e),_e(2),t(Me),_e(2),t(we);var Ne=a(we,2);{var Ie=p=>{var S=ba(),oe=r(S),ye=a(oe,2),Se=r(ye);t(ye);var fe=a(ye,2);t(S),ne(()=>{oe.disabled=e(j)<=1,G(Se,`${e(j)??""} ${(e(j)===1?"copy":"copies")??""}`),fe.disabled=e(j)>=10}),R("click",oe,Bt(()=>e(j)>1?Kt(j,-1):null)),R("click",fe,Bt(()=>e(j)<10?Kt(j):null)),b(p,S)},Ce=p=>{var S=fa();b(p,S)};$(Ne,p=>{e(_)?p(Ie):p(Ce,!1)})}t(be),t(ge),t(he);var ze=a(he,2);{var O=p=>{var S=xa(),oe=a(r(S),2);K(oe);var ye=a(oe,2);{var Se=Ee=>{var He=ga(),Qe=a(r(He),2),Fe=r(Qe,!0);t(Qe),t(He),ne(()=>G(Fe,e(E))),b(Ee,He)},fe=Ee=>{var He=ma();b(Ee,He)};$(ye,Ee=>{e(E)?Ee(Se):Ee(fe,!1)})}t(S),ne(()=>{F(S,1,`mb-6 p-4 bg-purple-50 rounded-lg border ${(e(E)?"border-red-300":"border-purple-200")??""}`),_r(oe,e(B)),F(oe,1,`w-full px-4 py-2 border text-black ${(e(E)?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-purple-300 focus:ring-purple-500 focus:border-purple-500")??""} rounded-lg focus:ring-2`)}),R("input",oe,w),b(p,S)};$(ze,p=>{e(h)&&p(O)})}var Be=a(ze,2),Le=r(Be),Ve=r(Le),Re=r(Ve);t(Ve);var Ge=a(Ve,2);{var ve=p=>{var S=ha();b(p,S)};$(Ge,p=>{u().length>0&&p(ve)})}t(Le);var Pe=a(Le,2);kt(Pe,5,u,Pt,(p,S)=>{var oe=ya(),ye=r(oe),Se=r(ye),fe=r(Se),Ee=r(fe,!0);t(fe);var He=a(fe,2);{var Qe=Te=>{var ut=wa();b(Te,ut)};$(He,Te=>{e(S).sold&&Te(Qe)})}t(Se);var Fe=a(Se,2),Ae=r(Fe),rt=r(Ae);t(Ae);var at=a(Ae,4),ht=r(at,!0);t(at),t(Fe),t(ye);var mt=a(ye,2),d=r(mt),I=a(d,2);t(mt),t(oe),ne(Te=>{F(oe,1,`flex items-center p-3 border rounded-lg hover:bg-gray-50
                ${e(S).sold?"bg-red-50 border-red-200":""}`),G(Ee,e(S).name),G(rt,`£${Te??""}`),G(ht,e(S).sku)},[()=>e(S).price.toFixed(2)],qe),R("click",d,()=>{n(N,e(S)),n(l,!0)}),R("click",I,()=>D(e(S))),b(p,oe)},p=>{var S=_a();b(p,S)}),t(Pe),t(Be),t(A);var Ue=a(A,2),Ke=r(Ue),se=a(Ke,2);let We;var Ye=r(se);{var gt=p=>{var S=ka();_e(2),b(p,S)},ct=p=>{var S=Pa(),oe=r(S,!0);t(S),ne(()=>G(oe,e(s))),b(p,S)};$(Ye,p=>{e(v)?p(gt):p(ct,!1)})}t(se),t(Ue),t(Q),t(le);var tt=a(le,2);{var vt=p=>{pa(p,{get showEditPrintModal(){return e(l)},set showEditPrintModal(S){n(l,S)},get editedProduct(){return e(N)},set editedProduct(S){n(N,S)},get selectedProducts(){return u()},set selectedProducts(S){u(S)},$$legacy:!0})};$(tt,p=>{e(l)&&p(vt)})}ne(p=>{G(Re,`You're about to process ${u().length??""} products.`),We=F(se,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed",null,We,p),se.disabled=e(v)||u().length===0||!e(h)&&!e(M)&&!e(_)||e(h)&&(!e(B)||e(E))},[()=>({"bg-blue-600":!e(v),"bg-gray-400":e(v),"hover:bg-blue-700":!e(v)})],qe),R("click",me,()=>{f(!1),n(C,""),n(M,!0),n(_,!0),n(h,!1),n(B,""),n(E,""),n(H,""),n(j,1)}),ae(xe,()=>e(C),p=>n(C,p)),bt(ie,()=>e(h),p=>n(h,p)),R("click",X,()=>{n(h,!e(h))}),bt(q,()=>e(M),p=>n(M,p)),R("click",P,()=>{n(M,!e(M))}),bt($e,()=>e(_),p=>n(_,p)),R("click",be,()=>{n(_,!e(_))}),R("click",Ke,()=>{f(!1),n(C,""),n(M,!0),n(_,!0),n(h,!1),n(B,""),n(E,""),n(H,""),n(j,1)}),R("click",se,L),b(i,J),it()}var $a=y('<div class="absolute top-14 right-3 px-2 py-1 bg-red-100 text-red-800 text-xs font-bold rounded-full">SOLD</div>'),Ca=y('<div><!> <div class="p-4"><div class="flex justify-between items-start"><div class="pr-2  w-[79%]"><h3 class="font-semibold text-gray-800 truncate"> </h3> <div class="mt-1"><span class="text-xl font-bold text-blue-600"> </span></div></div> <button title="Edit Print Info"><svg class="w-5 h-5 text-blue-600 group-hover:text-blue-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="ml-1 text-sm font-medium text-blue-600 group-hover:text-blue-800 hidden md:inline">Edit</span></button></div> <div class="mt-3 space-y-2 text-sm text-gray-600"><div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="truncate"> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="truncate"> </span></div></div></div> <div> </div></div>'),Ea=y('<div class="col-span-full text-center py-12"><div class="text-gray-400 mb-4"><svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-xl font-semibold text-gray-700">No products found</h3> <p class="text-gray-500 mt-2"> </p></div>'),ja=y('<span class="px-2 py-1.5 text-gray-500">...</span>'),Na=y("<button> </button>"),za=y('<div class="mt-8 flex flex-col sm:flex-row items-center justify-between gap-4"><div class="text-sm text-gray-600"> </div> <div class="flex items-center gap-1"><button class="px-3 py-1.5 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors" title="Previous page"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <!> <button class="px-3 py-1.5 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors" title="Next page"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div> <div class="flex items-center gap-2 text-sm"><label for="itemsPerPage" class="text-gray-600">Items per page:</label> <select id="itemsPerPage" class="px-2 py-1 border border-gray-300 text-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"><option>12</option><option>24</option><option>48</option><option>96</option></select></div></div>'),Ba=y('<div class="products-container"><div class="products-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div> <!></div>');function La(i,o){ot(o,!1);const s=T(),f=T(),u=T();let x=V(o,"filteredProducts",8),v=V(o,"selectedProducts",8),l=V(o,"toggleProduct",8),N=V(o,"openEditModal",8),C=V(o,"showSoldItems",8),M=T(1),_=T(24);function h(z){if(z>=1&&z<=e(f)){n(M,z);const w=document.getElementById("searchBar");w&&w.scrollIntoView({behavior:"smooth"})}}Xe(()=>(zt(x()),e(M),e(_)),()=>{n(s,x().slice((e(M)-1)*e(_),e(M)*e(_)))}),Xe(()=>(zt(x()),e(_)),()=>{n(f,Math.ceil(x().length/e(_)))}),Xe(()=>(e(f),e(M)),()=>{n(u,(()=>{const z=[];if(e(f)<=5)for(let L=1;L<=e(f);L++)z.push(L);else{z.push(1);let L=Math.max(2,e(M)-1),D=Math.min(e(f)-1,e(M)+1);e(M)<=3&&(D=4),e(M)>=e(f)-2&&(L=e(f)-3),L>2&&z.push("...");for(let J=L;J<=D;J++)z.push(J);D<e(f)-1&&z.push("..."),e(f)>1&&z.push(e(f))}return z})())}),Mt(),lt();var B=Ba(),E=r(B);kt(E,5,()=>e(s),Pt,(z,w)=>{var L=Ca(),D=r(L);{var J=te=>{var be=$a();b(te,be)};$(D,te=>{e(w).sold&&te(J)})}var le=a(D,2),Q=r(le),ee=r(Q),me=r(ee),A=r(me,!0);t(me);var U=a(me,2),xe=r(U),he=r(xe);t(xe),t(U),t(ee);var ge=a(ee,2);F(ge,1,"p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors flex items-center group "),t(Q);var X=a(Q,2),Y=r(X),pe=a(r(Y),2),ie=r(pe);t(pe),t(Y);var ce=a(Y,2),ke=a(r(ce),2),g=r(ke);t(ke),t(ce);var c=a(ce,2),P=a(r(c),2),k=r(P);t(P),t(c);var W=a(c,2),q=a(r(W),2),de=r(q);t(q),t(W),t(X),t(le);var re=a(le,2),Z=r(re,!0);t(re),t(L),ne((te,be,we)=>{F(L,1,te),G(A,e(w).name),G(he,`£${be??""}`),G(ie,`SKU: ${e(w).sku??""}`),G(g,`IM SKU: ${e(w).imSKU??""}`),G(k,`Seller: ${e(w).seller??""}`),G(de,`Location: ${e(w).location??""}`),F(re,1,we),G(Z,e(w).sold?"Sold - Selected":"Selected")},[()=>`bg-white rounded-xl shadow-md overflow-hidden border-2 transition-all duration-200 relative cursor-pointer
                    ${v().find(te=>te.id===e(w).id)?"border-blue-500 shadow-lg":"border-transparent"}`,()=>e(w).price.toFixed(2),()=>`py-1 text-center text-sm font-medium
                    ${v().find(te=>te.id===e(w).id)?e(w).sold?"bg-red-100 text-red-700":"bg-blue-50 text-blue-700":"hidden"}`],qe),R("click",ge,Bt(()=>N()(e(w)))),R("click",L,()=>l()(e(w))),b(z,L)},z=>{var w=Ea(),L=a(r(w),4),D=r(L,!0);t(L),t(w),ne(()=>G(D,C()?"No sold items match your search":"No available items match your search")),b(z,w)}),t(E);var H=a(E,2);{var j=z=>{var w=za(),L=r(w),D=r(L);t(L);var J=a(L,2),le=r(J),Q=a(le,2);kt(Q,1,()=>e(u),Pt,(X,Y)=>{var pe=De(),ie=je(pe);{var ce=g=>{var c=ja();b(g,c)},ke=g=>{var c=Na(),P=r(c,!0);t(c),ne(()=>{F(c,1,`px-3 py-1.5 rounded-md border transition-colors
                                ${e(M)===e(Y)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-700 hover:bg-gray-50"}`),G(P,e(Y))}),R("click",c,()=>h(e(Y))),b(g,c)};$(ie,g=>{e(Y)==="..."?g(ce):g(ke,!1)})}b(X,pe)});var ee=a(Q,2);t(J);var me=a(J,2),A=a(r(me),2);ne(()=>{e(_),hr(()=>{})});var U=r(A);U.value=(U.__value=12)==null?"":12;var xe=a(U);xe.value=(xe.__value=24)==null?"":24;var he=a(xe);he.value=(he.__value=48)==null?"":48;var ge=a(he);ge.value=(ge.__value=96)==null?"":96,t(A),t(me),t(w),ne((X,Y)=>{G(D,`Showing ${X??""} 
                to ${Y??""} 
                of ${x().length??""} products`),le.disabled=e(M)===1,ee.disabled=e(M)===e(f)},[()=>Math.min((e(M)-1)*e(_)+1,x().length),()=>Math.min(e(M)*e(_),x().length)],qe),R("click",le,()=>h(e(M)-1)),R("click",ee,()=>h(e(M)+1)),Mr(A,()=>e(_),X=>n(_,X)),b(z,w)};$(H,z=>{x().length>e(_)&&z(j)})}t(B),b(i,B),it()}var Aa=qt('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>'),Ta=y("<button><span> </span> <!></button>"),Oa=y('<div class="animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-500"></div>'),Ia=y('<div class="animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-500 mr-2"></div>'),Ra=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-md"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">System Settings</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-6 space-y-4"><div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg text-black"><div class="flex items-center"><!> <span>Printer Status:</span></div> <span class="font-medium"><!></span></div> <button class="w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"><!> </button> <button class="w-full flex items-center justify-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors"><!> Restart Raspberry Pi</button> <button class="w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"><!> Shutdown Raspberry Pi</button></div></div></div>'),Ua=y('<div class="bg-white rounded-xl shadow-lg p-4 mb-2" id="searchBar"><div class="relative mb-4"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" class="text-black w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Search by name, SKU, seller or location..."></div> <div class="flex flex-wrap gap-2 mt-2 justify-between items-center"><div class="flex flex-wrap gap-2"></div> <div class="flex flex-wrap gap-2 items-center"><div class="flex items-center mr-2"><!></div> <button class="flex items-center min-w-[220px] px-4 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"><!> </button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Refresh stock"><!></button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Add stock"><!></button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-gray-600/80 text-white hover:bg-gray-600 transition-colors" title="Settings"><!></button></div></div></div> <!>',1);function Ka(i,o){ot(o,!1);let s=V(o,"searchTerm",12,""),f=V(o,"fetchProducts",8),u=V(o,"showPrintModal",12),x=V(o,"selectedProducts",8),v=V(o,"showAddProductModal",12),l=V(o,"handleSort",8),N=V(o,"sortConfig",8),C=V(o,"sortOptions",24,()=>[]),M=T(!1),_=V(o,"printerConnected",12),h=T(!1);async function B(){n(h,!0);try{const c=await fetch(`${ft}/reconnect_printer`);if(c.ok){const P=await c.json();_(P.connected)}else _(!1)}catch(c){console.error("Failed to check printer status:",c),_(!1)}finally{n(h,!1)}}async function E(){if(confirm("Are you sure you want to restart the Raspberry Pi?"))try{(await fetch(`${ft}/restart`,{method:"POST"})).ok?alert("Raspberry Pi is restarting..."):alert("Failed to restart Raspberry Pi")}catch(c){console.error("Failed to restart Pi:",c),alert("Failed to restart Raspberry Pi")}}async function H(){if(confirm("Are you sure you want to shutdown the Raspberry Pi?"))try{(await fetch(`${ft}/shutdown`,{method:"POST"})).ok?alert("Raspberry Pi is shutting down..."):alert("Failed to shutdown Raspberry Pi")}catch(c){console.error("Failed to shutdown Pi:",c),alert("Failed to shutdown Raspberry Pi")}}lt();var j=Ua(),z=je(j),w=r(z),L=a(r(w),2);K(L),t(w);var D=a(w,2),J=r(D);kt(J,5,C,Pt,(c,P)=>{var k=Ta(),W=r(k),q=r(W,!0);t(W);var de=a(W,2);{var re=Z=>{var te=Aa();ne(()=>F(te,0,`ml-1.5 w-4 h-4 ${N().direction==="asc"?"":"transform rotate-180"}`)),b(Z,te)};$(de,Z=>{N().key===e(P).id&&Z(re)})}t(k),ne(()=>{F(k,1,`px-3 py-1.5 text-sm rounded-full border transition-colors flex items-center
                  ${N().key===e(P).id?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-100 border-gray-200 text-gray-700 hover:bg-gray-200"}`),G(q,e(P).name)}),R("click",k,()=>l()(e(P).id)),b(c,k)}),t(J);var le=a(J,2),Q=r(le),ee=r(Q);{var me=c=>{var P=Oa();b(c,P)},A=(c,P)=>{{var k=q=>{Wt(q,{size:20,class:"text-green-500"})},W=q=>{Vt(q,{size:20,class:"text-red-500"})};$(c,q=>{_()?q(k):q(W,!1)},P)}};$(ee,c=>{e(h)?c(me):c(A,!1)})}t(Q);var U=a(Q,2),xe=r(U);Qt(xe,{size:30,class:"mr-2"});var he=a(xe);t(U);var ge=a(U,2),X=r(ge);Nr(X,{size:30,class:""}),t(ge);var Y=a(ge,2),pe=r(Y);jr(pe,{size:30,class:""}),t(Y);var ie=a(Y,2),ce=r(ie);Br(ce,{size:30,class:""}),t(ie),t(le),t(D),t(z);var ke=a(z,2);{var g=c=>{var P=Ra(),k=r(P),W=r(k),q=a(r(W),2);t(W);var de=a(W,2),re=r(de),Z=r(re),te=r(Z);{var be=ve=>{var Pe=Ia();b(ve,Pe)},we=(ve,Pe)=>{{var Ue=se=>{Wt(se,{size:20,class:"text-green-500 mr-2"})},Ke=se=>{Vt(se,{size:20,class:"text-red-500 mr-2"})};$(ve,se=>{_()?se(Ue):se(Ke,!1)},Pe)}};$(te,ve=>{e(h)?ve(be):ve(we,!1)})}_e(2),t(Z);var Me=a(Z,2),$e=r(Me);{var Ne=ve=>{var Pe=pt("Checking...");b(ve,Pe)},Ie=(ve,Pe)=>{{var Ue=se=>{var We=pt("Connected");b(se,We)},Ke=se=>{var We=pt("Disconnected");b(se,We)};$(ve,se=>{_()?se(Ue):se(Ke,!1)},Pe)}};$($e,ve=>{e(h)?ve(Ne):ve(Ie,!1)})}t(Me),t(re);var Ce=a(re,2),ze=r(Ce);const O=qe(()=>e(h)?"animate-spin ":"");zr(ze,{size:18,get class(){return`mr-2 ${e(O)??""}`}});var Be=a(ze);t(Ce);var Le=a(Ce,2),Ve=r(Le);Ft(Ve,{size:18,class:"mr-2"}),_e(),t(Le);var Re=a(Le,2),Ge=r(Re);Ft(Ge,{size:18,class:"mr-2"}),_e(),t(Re),t(de),t(k),t(P),ne(()=>{Ce.disabled=e(h),G(Be,` ${(e(h)?"Reconnecting...":"Reconnect Printer")??""}`)}),R("click",q,()=>n(M,!1)),R("click",Ce,B),R("click",Le,E),R("click",Re,H),b(c,P)};$(ke,c=>{e(M)&&c(g)})}ne(()=>{kr(Q,"title",_()?"Printer connected":"Printer disconnected"),U.disabled=x().length===0,G(he,` Print Selected (${x().length??""})`)}),ae(L,s),R("click",U,()=>{u(!0)}),R("click",ge,function(...c){var P;(P=f())==null||P.apply(this,c)}),R("click",Y,()=>{v(!0)}),R("click",ie,()=>n(M,!0)),b(i,j),it()}var Ha=y('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div> <span class="ml-3 text-gray-600">Loading products...</span></div>'),Fa=y('<div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-red-700"> </p> <button class="mt-2 px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200">Retry</button></div></div></div>'),Va=y('<!> <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <span class="font-medium">Total Items</span></div> <div class="text-3xl text-black font-bold mt-2"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Available</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Sold</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div></div> <!>',1),Wa=y('<button class="fab-enter fixed bottom-6 right-6 z-50 p-4 bg-blue-600 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white flex items-center justify-center svelte-7fy406"><!> <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center"> </span></button>'),qa=y('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-4 md:p-8"><div class="max-w-7xl mx-auto"><div class="mb-8 text-center pt-8 text-[#011993]"><h1 class="text-6xl font-engraved ">Iain Marr Antiques</h1> <p class="text-gray-600 mt-2">Inventory Management System</p></div> <!></div> <!> <!> <!> <!></div>');function Xa(i,o){ot(o,!1);const s=T(),f=T();let u=T([]),x=T([]),v=T(""),l=T(!1),N=T(!1),C=T(null),M=T("products"),_=T(!1),h=T(!1),B=T(null),E=T(!0),H=T({key:"sku",direction:"asc"}),j=T([{id:"sku",name:"SKU"},{id:"name",name:"Name"},{id:"price",name:"Price"}]),z=T();const w=(g,c,P="")=>g[c]!==void 0&&g[c]!==""?g[c]:P;async function L(){try{n(h,!0),n(B,null);const g=await fetch(ft+"/get_stock",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const c=await g.json(),P=c.data;n(z,c.printer_connected),n(u,P.map(k=>({id:w(k,"SKU NO.",""),name:w(k,"ITEM DESCRIPTION",""),price:Number(w(k,"SELLING PRICE",0)),imSKU:w(k,"IM SKU",""),sku:w(k,"SKU NO.",""),purchasePrice:Number(w(k,"PURCHASE PRICE",0)),seller:w(k,"NAME/ADDRESS SELLER",""),dateBought:w(k,"DATE BOUGHT",""),sold:w(k,"SOLD","FALSE")==="TRUE",commission:w(k,"Commission £",0),dateSold:w(k,"DATE SOLD",""),invoiceNo:w(k,"INVOICE NO. XERO",""),onWebsite:w(k,"ON WEBSITE","FALSE")==="TRUE",location:w(k,"location","")})))}catch(g){console.error("Failed to fetch products:",g),n(B,"Failed to load products. Please try again later.")}finally{n(h,!1)}}Gt(L);function D(g){let c="asc";e(H).key===g&&e(H).direction==="asc"&&(c="desc"),n(H,{key:g,direction:c})}function J(g){e(x).find(c=>c.id===g.id)?n(x,e(x).filter(c=>c.id!==g.id)):n(x,[...e(x),{...g}])}function le(g){n(C,{...g}),n(M,"products"),n(l,!0)}function Q(){n(_,!0)}Xe(()=>(e(u),e(H)),()=>{n(s,[...e(u)].sort((g,c)=>{let P=g[e(H).key],k=c[e(H).key];if(e(H).key==="sku")return e(H).direction==="asc"?0:-1;if(typeof P=="number"&&typeof k=="number")return e(H).direction==="asc"?P-k:k-P;if(typeof P=="string"&&typeof k=="string"){if(P=P.toLowerCase(),k=k.toLowerCase(),P<k)return e(H).direction==="asc"?-1:1;if(P>k)return e(H).direction==="asc"?1:-1}return 0}))}),Xe(()=>(e(s),e(E),e(v)),()=>{n(f,e(s).filter(g=>(e(E)||!g.sold)&&(String(g.name||"").toLowerCase().includes(e(v).toLowerCase())||String(g.imSKU||"").toLowerCase().includes(e(v).toLowerCase())||String(g.sku||"").toLowerCase().includes(e(v).toLowerCase())||String(g.seller||"").toLowerCase().includes(e(v).toLowerCase())||String(g.location||"").toLowerCase().includes(e(v).toLowerCase()))))}),Mt(),lt();var ee=qa();ir(g=>{wr.title="Iain Marr Antiques"});var me=r(ee),A=a(r(me),2);{var U=g=>{var c=Ha();b(g,c)},xe=(g,c)=>{{var P=W=>{var q=Fa(),de=r(q),re=a(r(de),2),Z=r(re),te=r(Z,!0);t(Z);var be=a(Z,2);t(re),t(de),t(q),ne(()=>G(te,e(B))),R("click",be,L),b(W,q)},k=W=>{var q=Va(),de=je(q);Ka(de,{handleSort:D,openPrintModal:Q,fetchProducts:L,get printerConnected(){return e(z)},set printerConnected(O){n(z,O)},get sortConfig(){return e(H)},set sortConfig(O){n(H,O)},get sortOptions(){return e(j)},set sortOptions(O){n(j,O)},get showAddProductModal(){return e(N)},set showAddProductModal(O){n(N,O)},get searchTerm(){return e(v)},set searchTerm(O){n(v,O)},get showSoldItems(){return e(E)},set showSoldItems(O){n(E,O)},get showPrintModal(){return e(_)},set showPrintModal(O){n(_,O)},get selectedProducts(){return e(x)},set selectedProducts(O){n(x,O)},$$legacy:!0});var re=a(de,2),Z=r(re),te=a(r(Z),2),be=r(te,!0);t(te),t(Z);var we=a(Z,2),Me=a(r(we),2),$e=r(Me,!0);t(Me),t(we);var Ne=a(we,2),Ie=a(r(Ne),2),Ce=r(Ie,!0);t(Ie),t(Ne),t(re);var ze=a(re,2);La(ze,{toggleProduct:J,openEditModal:le,get filteredProducts(){return e(f)},set filteredProducts(O){n(f,O)},get selectedProducts(){return e(x)},set selectedProducts(O){n(x,O)},get showSoldItems(){return e(E)},set showSoldItems(O){n(E,O)},$$legacy:!0}),ne((O,Be)=>{G(be,e(u).length),G($e,O),G(Ce,Be)},[()=>e(u).filter(O=>!O.sold).length,()=>e(u).filter(O=>O.sold).length],qe),b(W,q)};$(g,W=>{e(B)?W(P):W(k,!1)},c)}};$(A,g=>{e(h)?g(U):g(xe,!1)})}t(me);var he=a(me,2);{var ge=g=>{var c=Wa(),P=r(c);Qt(P,{size:30});var k=a(P,2),W=r(k,!0);t(k),t(c),ne(()=>G(W,e(x).length)),R("click",c,Q),b(g,c)};$(he,g=>{e(x).length>0&&g(ge)})}var X=a(he,2);{var Y=g=>{ca(g,{get editedProduct(){return e(C)},set editedProduct(c){n(C,c)},get showEditProductModal(){return e(l)},set showEditProductModal(c){n(l,c)},get activeTab(){return e(M)},set activeTab(c){n(M,c)},get products(){return e(u)},set products(c){n(u,c)},$$legacy:!0})};$(X,g=>{e(l)&&g(Y)})}var pe=a(X,2);{var ie=g=>{Dr(g,{get showAddProductModal(){return e(N)},set showAddProductModal(c){n(N,c)},get products(){return e(u)},set products(c){n(u,c)},$$legacy:!0})};$(pe,g=>{e(N)&&g(ie)})}var ce=a(pe,2);{var ke=g=>{Ma(g,{get selectedProducts(){return e(x)},set selectedProducts(c){n(x,c)},get showPrintModal(){return e(_)},set showPrintModal(c){n(_,c)},get products(){return e(u)},set products(c){n(u,c)},$$legacy:!0})};$(ce,g=>{e(_)&&g(ke)})}t(ee),b(i,ee),it()}export{Xa as component};
