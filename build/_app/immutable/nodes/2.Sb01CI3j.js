import{k as Xt,l as er,o as It,p as Kt,a as f,c as dt,t as y,q as V,s as F,r as tr}from"../chunks/DaN96dIN.js";import{i as Be}from"../chunks/idI3UDRs.js";import{h as ke,a as zt,d as St,b as rr,E as lr,c as ar,aL as or,ae as sr,af as dr,P as Tt,O as Ot,H as ir,p as nr,Q as cr,ao as vr,aM as ur,u as Ht,r as Rt,f as ze,j as r,s as l,k as t,t as ie,$ as Ce,i as Te,g as Ae,w as e,aN as Y,aO as Pe,F as w,aP as ye,ab as Wt,aQ as Et,x as br,aR as Ft,aS as gr}from"../chunks/DDLtgsC2.js";import{l as st,p as U,s as $t,i as P}from"../chunks/D_Rvj4zC.js";import"../chunks/pA0elD8O.js";import{e as ft,i as xt,s as mt,a as Ut,r as O,b as B,t as Je}from"../chunks/B8pF-tgs.js";function pr(u,d,a,b,g,h){let v=ke;ke&&zt();var o,_,n=null;ke&&St.nodeType===1&&(n=St,zt());var E=ke?St:u,C;rr(()=>{const j=d()||null;var W=or;j!==o&&(C&&(j===null?nr(C,()=>{C=null,_=null}):j===_?cr(C):vr(C)),j&&j!==_&&(C=ar(()=>{if(n=ke?n:document.createElementNS(W,j),Xt(n,n),b){ke&&er(j)&&n.append(document.createComment(""));var $=ke?sr(n):n.appendChild(dr());ke&&($===null?Tt(!1):Ot($)),b(n,$)}ir.nodes_end=n,E.before(n)})),o=j,o&&(_=o))},lr),v&&(Tt(!0),Ot(E))}function R(u,d,a=d){var b=ur();It(u,"input",g=>{var h=g?u.defaultValue:u.value;if(h=Mt(u)?Ct(h):h,a(h),b&&h!==(h=d())){var v=u.selectionStart,o=u.selectionEnd;u.value=h??"",o!==null&&(u.selectionStart=v,u.selectionEnd=Math.min(o,u.value.length))}}),(ke&&u.defaultValue!==u.value||Ht(d)==null&&u.value)&&a(Mt(u)?Ct(u.value):u.value),Rt(()=>{var g=d();Mt(u)&&g===Ct(u.value)||u.type==="date"&&!g&&!u.value||g!==u.value&&(u.value=g??"")})}function pt(u,d,a=d){It(u,"change",b=>{var g=b?u.defaultChecked:u.checked;a(g)}),(ke&&u.defaultChecked!==u.checked||Ht(d)==null)&&a(u.checked),Rt(()=>{var b=d();u.checked=!!b})}function Mt(u){var d=u.type;return d==="number"||d==="range"}function Ct(u){return u===""?null:+u}function fr(u){return function(...d){var a=d[0];return a.stopPropagation(),u==null?void 0:u.apply(this,d)}}/**
 * @license lucide-svelte v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var mr=Kt("<svg><!><!></svg>");function Nt(u,d){const a=st(d,["children","$$slots","$$events","$$legacy"]),b=st(a,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);ze(d,!1);let g=U(d,"name",8,void 0),h=U(d,"color",8,"currentColor"),v=U(d,"size",8,24),o=U(d,"strokeWidth",8,2),_=U(d,"absoluteStrokeWidth",8,!1),n=U(d,"iconNode",24,()=>[]);const E=(...S)=>S.filter((L,k,H)=>!!L&&H.indexOf(L)===k).join(" ");Be();var C=mr();let j;var W=r(C);ft(W,1,n,xt,(S,L)=>{let k=()=>e(L)[0],H=()=>e(L)[1];var D=dt(),Q=Ae(D);pr(Q,k,!0,(X,ne)=>{let J;ie(()=>J=Ut(X,J,{...H()}))}),f(S,D)});var $=l(W);mt($,d,"default",{},null),t(C),ie((S,L)=>j=Ut(C,j,{...xr,...b,width:v(),height:v(),stroke:h(),"stroke-width":S,class:L}),[()=>_()?Number(o())*24/Number(v()):o(),()=>E("lucide-icon","lucide",g()?`lucide-${g()}`:"",a.class)],Ce),f(u,C),Te()}function yr(u,d){const a=st(d,["children","$$slots","$$events","$$legacy"]);Nt(u,$t({name:"circle-plus"},()=>a,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]],children:(g,h)=>{var v=dt(),o=Ae(v);mt(o,d,"default",{},null),f(g,v)},$$slots:{default:!0}}))}function hr(u,d){const a=st(d,["children","$$slots","$$events","$$legacy"]);Nt(u,$t({name:"folder-sync"},()=>a,{iconNode:[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5"}],["path",{d:"M12 10v4h4"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5"}],["path",{d:"M22 22v-4h-4"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5"}]],children:(g,h)=>{var v=dt(),o=Ae(v);mt(o,d,"default",{},null),f(g,v)},$$slots:{default:!0}}))}function Vt(u,d){const a=st(d,["children","$$slots","$$events","$$legacy"]);Nt(u,$t({name:"printer"},()=>a,{iconNode:[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]],children:(g,h)=>{var v=dt(),o=Ae(v);mt(o,d,"default",{},null),f(g,v)},$$slots:{default:!0}}))}const yt="http://printpi:8080";var wr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),_r=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),kr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Pr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Sr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Mr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Cr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Er=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),$r=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Nr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),jr=y('<svg class=" animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Adding...</span>',1),Lr=y('<span class="text-white">Add Product</span>'),Ar=y(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Add Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                        but you may want to review them before saving.</p></div></div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button><!></button></div></div></div>`);function Br(u,d){ze(d,!1),U(d,"saveEditedProduct",8);let a=U(d,"showAddProductModal",12),b=U(d,"products",8),g=Y(!1);function h(s){const N=s.match(/^([A-Za-z\s]*)(\d+)([A-Za-z]*)$/);if(!N)return console.error("Invalid SKU format:",s),s;const lt=N[1],at=parseInt(N[2],10),Le=N[3],De=at+1;return`${lt}${De}${Le}`}let v=b()[b().length-1].sku;console.log(v);let o=Y({id:h(v),name:"",price:0,imSKU:"",sku:h(v),purchasePrice:0,seller:"",dateBought:"",sold:!1,commission:0,dateSold:"",invoiceNo:"",onWebsite:!1,location:""});async function _(){w(g,!0);try{const s=await fetch(yt+"/add_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({product:e(o)})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const N=await s.json();Je.success("Product added successfully!"),a(!1)}catch(s){console.error("Failed to add product:",s),Je.error("Failed to add product. Please try again.")}finally{w(g,!1)}}function n(s){return s===""||s===0||s===null||s===void 0}Be();var E=Ar(),C=r(E),j=r(C),W=l(r(j),2);t(j);var $=l(j,2),S=r($),L=r(S),k=r(L),H=l(r(k),2);O(H),B(H,1,"border-gray-300 bg-gray-100 text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed"),t(k);var D=l(k,2),Q=r(D),X=l(r(Q),2);{var ne=s=>{var N=wr();f(s,N)};P(X,s=>{n(e(o).imSKU)&&s(ne)})}t(Q);var J=l(Q,2);O(J),t(D),t(L);var z=l(L,2),K=r(z),ee=l(r(K),2);{var be=s=>{var N=_r();f(s,N)};P(ee,s=>{n(e(o).name)&&s(be)})}t(K);var Z=l(K,2);O(Z),t(z);var ve=l(z,2),M=r(ve),x=r(M),T=l(r(x),2);{var xe=s=>{var N=kr();f(s,N)};P(T,s=>{e(o).price===0&&s(xe)})}t(x);var ge=l(x,2);O(ge),t(M);var te=l(M,2),re=r(te),c=l(r(re),2);{var m=s=>{var N=Pr();f(s,N)};P(c,s=>{e(o).purchasePrice===0&&s(m)})}t(re);var p=l(re,2);O(p),t(te),t(ve);var I=l(ve,2),q=r(I),le=r(q),de=l(r(le),2);{var ae=s=>{var N=Sr();f(s,N)};P(de,s=>{n(e(o).seller)&&s(ae)})}t(le);var oe=l(le,2);O(oe),t(q);var ue=l(q,2),ce=r(ue),se=l(r(ce),2);{var pe=s=>{var N=Mr();f(s,N)};P(se,s=>{n(e(o).location)&&s(pe)})}t(ce);var Se=l(ce,2);O(Se),t(ue),t(I);var he=l(I,2),me=r(he),we=r(me),_e=l(r(we),2);{var Oe=s=>{var N=Cr();f(s,N)};P(_e,s=>{n(e(o).dateBought)&&s(Oe)})}t(we);var Ue=l(we,2);O(Ue),t(me);var A=l(me,2),fe=r(A),Ee=l(r(fe),2);{var Ie=s=>{var N=Er();f(s,N)};P(Ee,s=>{n(e(o).dateSold)&&s(Ie)})}t(fe);var Ze=l(fe,2);O(Ze),t(A),t(he);var qe=l(he,2),$e=r(qe),Ke=r($e),Ge=l(r(Ke),2);{var Ye=s=>{var N=$r();f(s,N)};P(Ge,s=>{e(o).commission===0&&s(Ye)})}t(Ke);var Qe=l(Ke,2);O(Qe),t($e);var it=l($e,2),Ne=r(it),nt=l(r(Ne),2);{var Xe=s=>{var N=Nr();f(s,N)};P(nt,s=>{n(e(o).invoiceNo)&&s(Xe)})}t(Ne);var et=l(Ne,2);O(et),t(it),t(qe);var ct=l(qe,2),je=r(ct),Re=l(r(je),2),We=r(Re);O(We),Pe(2),t(Re),t(je);var Fe=l(je,2),vt=l(r(Fe),2),ut=r(vt);O(ut),Pe(2),t(vt),t(Fe),t(ct),Pe(2),t(S),t($);var He=l($,2),tt=r(He),Me=l(tt,2);let bt;var ht=r(Me);{var Ve=s=>{var N=jr();Pe(2),f(s,N)},rt=s=>{var N=Lr();f(s,N)};P(ht,s=>{e(g)?s(Ve):s(rt,!1)})}t(Me),t(He),t(C),t(E),ie((s,N,lt,at,Le,De,ot,wt)=>{B(J,1,s),B(Z,1,N),B(ge,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(o).price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),B(p,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(o).purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),B(oe,1,lt),B(Se,1,at),B(Ue,1,Le),B(Ze,1,De),B(Qe,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${e(o).commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`),B(et,1,ot),bt=B(Me,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed",null,bt,wt),Me.disabled=e(g)},[()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(o).imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                            ${n(e(o).name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(o).seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(o).location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(o).dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(o).dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                ${n(e(o).invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>({"bg-blue-600":!e(g),"bg-gray-400":e(g),"hover:bg-blue-700":!e(g)})],Ce),V("click",W,()=>{a(!1)}),R(H,()=>e(o).sku,s=>ye(o,e(o).sku=s)),R(J,()=>e(o).imSKU,s=>ye(o,e(o).imSKU=s)),R(Z,()=>e(o).name,s=>ye(o,e(o).name=s)),R(ge,()=>e(o).price,s=>ye(o,e(o).price=s)),R(p,()=>e(o).purchasePrice,s=>ye(o,e(o).purchasePrice=s)),R(oe,()=>e(o).seller,s=>ye(o,e(o).seller=s)),R(Se,()=>e(o).location,s=>ye(o,e(o).location=s)),R(Ue,()=>e(o).dateBought,s=>ye(o,e(o).dateBought=s)),R(Ze,()=>e(o).dateSold,s=>ye(o,e(o).dateSold=s)),R(Qe,()=>e(o).commission,s=>ye(o,e(o).commission=s)),R(et,()=>e(o).invoiceNo,s=>ye(o,e(o).invoiceNo=s)),pt(We,()=>e(o).onWebsite,s=>ye(o,e(o).onWebsite=s)),pt(ut,()=>e(o).sold,s=>ye(o,e(o).sold=s)),V("click",tt,()=>{a(!1)}),V("click",Me,_),f(u,E),Te()}var zr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Tr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Or=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Ur=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Ir=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Kr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Hr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Rr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Wr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Fr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Zero</span>'),Vr=y('<span class="ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full">Empty</span>'),Dr=y(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">SKU</label> <!></div> <input type="text" disabled></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">IM SKU</label> <!></div> <input type="text"></div></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Product Name</label> <!></div> <input type="text"></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="text-black block text-sm font-medium text-gray-700">Selling Price (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Purchase Price (£)</label> <!></div> <input type="number" step="0.01"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Seller</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Location</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Bought</label> <!></div> <input type="text"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Date Sold</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Commission (£)</label> <!></div> <input type="number" step="0.01"></div> <div><div class="flex items-center mb-1"><label class="block text-sm font-medium text-gray-700">Invoice No</label> <!></div> <input type="text"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">On Website</label> <div class="flex items-center mt-2"><input type="checkbox" id="onWebsite" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded svelte-1mfa054"> <label for="onWebsite" class="ml-2 block text-sm text-gray-900">Published on website</label></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Sold Status</label> <div class="flex items-center"><input type="checkbox" id="soldCheckbox" class="text-black h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded svelte-1mfa054"> <label for="soldCheckbox" class="ml-2 block text-sm text-gray-900">Mark as sold</label></div></div></div> <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg svelte-1mfa054"><div class="flex items-center text-yellow-800"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span class="font-medium">Note on empty fields</span></div> <p class="text-sm text-yellow-700 mt-2">Yellow highlighted fields are empty or contain zero values. These fields are not required, 
                                but you may want to review them before saving.</p></div></div>`),Jr=y('<div class="bg-gray-50 p-4 rounded-lg mb-4"><div class="flex items-center"><svg class="w-5 h-5 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg> <h3 class="font-medium">Label Preview</h3></div> <p class="text-sm text-gray-600 mt-1">This is a preview of how the label will look</p></div> <div class="border border-gray-300 rounded-lg p-6 max-w-xs mx-auto"><div class="text-center mb-4"><div class="text-xl font-bold">Iain Marr Antiques</div> <div class="text-xs text-gray-500">Est. 1990</div></div> <div class="text-center mb-2"><div class="font-semibold text-lg"> </div> <div class="text-2xl font-bold text-blue-700"> </div></div> <div class="flex justify-between text-xs mt-4"><div> </div> <div> </div></div> <div class="mt-6 text-center text-xs text-gray-500"><div> </div> <div> </div></div></div>',1),Zr=y('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white svelte-1mfa054" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Saving...</span>',1),qr=y('<span class="text-white">Save Changes</span>'),Gr=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600 svelte-1mfa054"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="border-b"><div class="flex"><button>Product Details</button> <button>Print Preview</button></div></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 svelte-1mfa054">Cancel</button> <button><!></button></div></div></div>');function Yr(u,d){ze(d,!1);let a=U(d,"editedProduct",12),b=U(d,"showEditProductModal",12),g=U(d,"activeTab",12),h=U(d,"products",12),v=Y(!1),o=Y(null);function _(M){return M===""||M===0||M===null||M===void 0}function n(){return JSON.stringify(e(o))!==JSON.stringify(a())}async function E(M){try{const x=await fetch(yt+"/modify_product",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({editedProduct:M})});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);return await x.json()}catch(x){throw console.error("Failed to update product:",x),new Error("Failed to update product. Please try again later.")}}async function C(){if(n()){w(v,!0);try{await E(a()),h(h().map(M=>M.id===a().id?a():M)),w(o,JSON.parse(JSON.stringify(a()))),Je.success("Product updated successfully!"),b(!1)}catch(M){console.error("Save error:",M),Je.error(M.message||"Failed to update product","error")}finally{w(v,!1)}}}Wt(()=>{a()&&(w(o,JSON.parse(JSON.stringify(a()))),console.log(e(o)))}),Et(()=>(br(a()),e(o)),()=>{a()&&!e(o)&&w(o,JSON.parse(JSON.stringify(a())))}),Ft(),Be();var j=Gr(),W=r(j),$=r(W),S=l(r($),2);t($);var L=l($,2),k=r(L),H=r(k),D=l(H,2);t(k),t(L);var Q=l(L,2),X=r(Q);{var ne=M=>{var x=dt(),T=Ae(x);{var xe=te=>{var re=Dr(),c=r(re),m=r(c),p=r(m),I=l(r(p),2);{var q=i=>{var G=zr();f(i,G)};P(I,i=>{_(a().sku)&&i(q)})}t(p);var le=l(p,2);O(le),t(m);var de=l(m,2),ae=r(de),oe=l(r(ae),2);{var ue=i=>{var G=Tr();f(i,G)};P(oe,i=>{_(a().imSKU)&&i(ue)})}t(ae);var ce=l(ae,2);O(ce),t(de),t(c);var se=l(c,2),pe=r(se),Se=l(r(pe),2);{var he=i=>{var G=Or();f(i,G)};P(Se,i=>{_(a().name)&&i(he)})}t(pe);var me=l(pe,2);O(me),t(se);var we=l(se,2),_e=r(we),Oe=r(_e),Ue=l(r(Oe),2);{var A=i=>{var G=Ur();f(i,G)};P(Ue,i=>{a().price===0&&i(A)})}t(Oe);var fe=l(Oe,2);O(fe),t(_e);var Ee=l(_e,2),Ie=r(Ee),Ze=l(r(Ie),2);{var qe=i=>{var G=Ir();f(i,G)};P(Ze,i=>{a().purchasePrice===0&&i(qe)})}t(Ie);var $e=l(Ie,2);O($e),t(Ee),t(we);var Ke=l(we,2),Ge=r(Ke),Ye=r(Ge),Qe=l(r(Ye),2);{var it=i=>{var G=Kr();f(i,G)};P(Qe,i=>{_(a().seller)&&i(it)})}t(Ye);var Ne=l(Ye,2);O(Ne),t(Ge);var nt=l(Ge,2),Xe=r(nt),et=l(r(Xe),2);{var ct=i=>{var G=Hr();f(i,G)};P(et,i=>{_(a().location)&&i(ct)})}t(Xe);var je=l(Xe,2);O(je),t(nt),t(Ke);var Re=l(Ke,2),We=r(Re),Fe=r(We),vt=l(r(Fe),2);{var ut=i=>{var G=Rr();f(i,G)};P(vt,i=>{_(a().dateBought)&&i(ut)})}t(Fe);var He=l(Fe,2);O(He),t(We);var tt=l(We,2),Me=r(tt),bt=l(r(Me),2);{var ht=i=>{var G=Wr();f(i,G)};P(bt,i=>{_(a().dateSold)&&i(ht)})}t(Me);var Ve=l(Me,2);O(Ve),t(tt),t(Re);var rt=l(Re,2),s=r(rt),N=r(s),lt=l(r(N),2);{var at=i=>{var G=Fr();f(i,G)};P(lt,i=>{a().commission===0&&i(at)})}t(N);var Le=l(N,2);O(Le),t(s);var De=l(s,2),ot=r(De),wt=l(r(ot),2);{var Dt=i=>{var G=Vr();f(i,G)};P(wt,i=>{_(a().invoiceNo)&&i(Dt)})}t(ot);var gt=l(ot,2);O(gt),t(De),t(rt);var jt=l(rt,2),_t=r(jt),Lt=l(r(_t),2),kt=r(Lt);O(kt),Pe(2),t(Lt),t(_t);var At=l(_t,2),Bt=l(r(At),2),Pt=r(Bt);O(Pt),Pe(2),t(Bt),t(At),t(jt),Pe(2),t(re),ie((i,G,Jt,Zt,qt,Gt,Yt,Qt)=>{B(le,1,i,"svelte-1mfa054"),B(ce,1,G,"svelte-1mfa054"),ce.disabled=e(v),B(me,1,Jt,"svelte-1mfa054"),me.disabled=e(v),B(fe,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().price===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),fe.disabled=e(v),B($e,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().purchasePrice===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),$e.disabled=e(v),B(Ne,1,Zt,"svelte-1mfa054"),Ne.disabled=e(v),B(je,1,qt,"svelte-1mfa054"),je.disabled=e(v),B(He,1,Gt,"svelte-1mfa054"),He.disabled=e(v),B(Ve,1,Yt,"svelte-1mfa054"),Ve.disabled=e(v),B(Le,1,`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${a().commission===0?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,"svelte-1mfa054"),Le.disabled=e(v),B(gt,1,Qt,"svelte-1mfa054"),gt.disabled=e(v),kt.disabled=e(v),Pt.disabled=e(v)},[()=>`text-black/50 w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed
                                        ${_(a().sku)?"border-yellow-400 bg-yellow-50":"border-gray-300 bg-gray-100"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().imSKU)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                    ${_(a().name)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().seller)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().location)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().dateBought)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().dateSold)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`,()=>`text-black w-full px-4 py-2.5 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                        ${_(a().invoiceNo)?"border-yellow-400 bg-yellow-50":"border-gray-300"}`],Ce),R(le,()=>a().sku,i=>a(a().sku=i,!0)),R(ce,()=>a().imSKU,i=>a(a().imSKU=i,!0)),R(me,()=>a().name,i=>a(a().name=i,!0)),R(fe,()=>a().price,i=>a(a().price=i,!0)),R($e,()=>a().purchasePrice,i=>a(a().purchasePrice=i,!0)),R(Ne,()=>a().seller,i=>a(a().seller=i,!0)),R(je,()=>a().location,i=>a(a().location=i,!0)),R(He,()=>a().dateBought,i=>a(a().dateBought=i,!0)),R(Ve,()=>a().dateSold,i=>a(a().dateSold=i,!0)),R(Le,()=>a().commission,i=>a(a().commission=i,!0)),R(gt,()=>a().invoiceNo,i=>a(a().invoiceNo=i,!0)),pt(kt,()=>a().onWebsite,i=>a(a().onWebsite=i,!0)),pt(Pt,()=>a().sold,i=>a(a().sold=i,!0)),f(te,re)},ge=te=>{var re=Jr(),c=l(Ae(re),2),m=l(r(c),2),p=r(m),I=r(p,!0);t(p);var q=l(p,2),le=r(q);t(q),t(m);var de=l(m,2),ae=r(de),oe=r(ae);t(ae);var ue=l(ae,2),ce=r(ue);t(ue),t(de);var se=l(de,2),pe=r(se),Se=r(pe,!0);t(pe);var he=l(pe,2),me=r(he,!0);t(he),t(se),t(c),ie((we,_e)=>{F(I,a().name),F(le,`£${we??""}`),F(oe,`SKU: ${a().sku??""}`),F(ce,`IM: ${a().imSKU??""}`),F(Se,a().location),F(me,_e)},[()=>a().price.toFixed(2),()=>new Date().toLocaleDateString("en-GB")],Ce),f(te,re)};P(T,te=>{g()==="products"?te(xe):te(ge,!1)})}f(M,x)};P(X,M=>{a()&&M(ne)})}t(Q);var J=l(Q,2),z=r(J),K=l(z,2);let ee;var be=r(K);{var Z=M=>{var x=Zr();Pe(2),f(M,x)},ve=M=>{var x=qr();f(M,x)};P(be,M=>{e(v)?M(Z):M(ve,!1)})}t(K),t(J),t(W),t(j),ie((M,x)=>{S.disabled=e(v),B(H,1,`px-6 py-3 font-medium text-sm ${g()==="products"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,"svelte-1mfa054"),H.disabled=e(v),B(D,1,`px-6 py-3 font-medium text-sm ${g()==="print"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,"svelte-1mfa054"),D.disabled=!a()||e(v),z.disabled=e(v),ee=B(K,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed svelte-1mfa054",null,ee,M),K.disabled=x},[()=>({"bg-blue-600":!e(v)&&n(),"bg-gray-400":!n()||e(v),"hover:bg-blue-700":!e(v)&&n()}),()=>!n()||e(v)],Ce),V("click",S,()=>{b(!1)}),V("click",H,()=>g("products")),V("click",D,()=>g("print")),V("click",z,()=>{b(!1)}),V("click",K,C),f(u,j),Te()}var Qr=y('<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-1">SKU</label> <input type="text" class="text-black/50 w-full px-4 py-2.5 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-not-allowed" disabled></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">IM SKU</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Product Name</label> <input type="text" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div> <div><label class="text-black block text-sm font-medium text-gray-700 mb-1">Selling Price (£)</label> <input type="number" step="0.01" class="text-black w-full px-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></div></div>'),Xr=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Edit Product</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><!></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">print</button> <button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Cancel</button> <button class="px-5 py-2.5 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700">Save Changes</button></div></div></div>');function el(u,d){ze(d,!1);let a=U(d,"showEditPrintModal",12),b=U(d,"editedProduct",12),g=U(d,"selectedProducts",12);function h(){b()&&(g(g().map(k=>k.id===b().id?b():k)),b(null),a(!1))}Be();var v=Xr(),o=r(v),_=r(o),n=l(r(_),2);t(_);var E=l(_,2),C=r(E);{var j=k=>{var H=Qr(),D=r(H),Q=r(D),X=l(r(Q),2);O(X),t(Q);var ne=l(Q,2),J=l(r(ne),2);O(J),t(ne),t(D);var z=l(D,2),K=l(r(z),2);O(K),t(z);var ee=l(z,2),be=l(r(ee),2);O(be),t(ee),t(H),R(X,()=>b().sku,Z=>b(b().sku=Z,!0)),R(J,()=>b().imSKU,Z=>b(b().imSKU=Z,!0)),R(K,()=>b().name,Z=>b(b().name=Z,!0)),R(be,()=>b().price,Z=>b(b().price=Z,!0)),f(k,H)};P(C,k=>{b()&&k(j)})}t(E);var W=l(E,2),$=r(W),S=l($,2),L=l(S,2);t(W),t(o),t(v),V("click",n,()=>{a(!1)}),V("click",$,()=>{}),V("click",S,()=>{a(!1)}),V("click",L,h),f(u,v),Te()}var tl=y('<p class="text-sm text-gray-500 mt-1">Click the X button to remove items from the list</p>'),rl=y('<span class="ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full">Sold</span>'),ll=y('<div><div class="flex-1 min-w-0"><div class="flex items-center"><h3 class="font-semibold text-gray-800 truncate"> </h3> <!></div> <div class="flex items-center mt-1 text-sm"><span class="font-medium text-blue-600"> </span> <span class="mx-2 text-gray-300">•</span> <span class="text-gray-600 truncate"> </span></div></div> <div class="flex items-center space-x-2"><button class="p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors flex items-center group" title="Edit Print Info"><svg class="w-5 h-5 text-blue-600 group-hover:text-blue-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="ml-1 text-sm font-medium text-blue-600 group-hover:text-blue-800 hidden md:inline">Edit</span></button> <button class="p-2 bg-red-50 rounded-full hover:bg-red-100 transition-colors flex items-center group" title="Remove from list"><svg class="w-5 h-5 text-red-500 group-hover:text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> <span class="ml-1 text-sm font-medium text-red-500 group-hover:text-red-700 hidden md:inline">Remove</span></button></div></div>'),al=y('<div class="text-center py-8"><svg class="w-16 h-16 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path></svg> <h3 class="mt-4 text-lg font-medium text-gray-900">No products selected</h3> <p class="mt-1 text-gray-500">Select items from your inventory to print receipts</p></div>'),ol=y('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="text-white">Printing...</span>',1),sl=y('<span class="text-white">Print Receipts</span>'),dl=y('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"><div class="bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col"><div class="p-6 border-b flex justify-between items-center"><h2 class="text-xl font-bold text-gray-800">Print Receipts</h2> <button class="text-gray-400 hover:text-gray-600"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="flex-1 overflow-y-auto p-6"><div><div class="mb-4"><p class="text-gray-600"> </p> <!></div> <div class="space-y-3 max-h-96 overflow-y-auto"></div>`</div></div> <div class="p-6 border-t flex justify-end space-x-3"><button class="px-5 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50">Back</button> <button><!></button></div></div></div> <!>',1);function il(u,d){ze(d,!1);let a=U(d,"showPrintModal",12),b=U(d,"selectedProducts",12),g=Y(!1),h=Y(),v=Y(null);async function o(){w(g,!0);try{const x=await fetch(yt+"/print_labels",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({selectedProducts:b()})});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);Je.success(`Successfully printed ${b().length} label(s)!`),b([]),a(!1)}catch(x){console.error("Failed to print labels",x),Je.error("Failed to print labels. Please check the console for details.")}finally{w(g,!1)}}function _(x){b(b().filter(T=>T.id!==x.id))}Be();var n=dl(),E=Ae(n),C=r(E),j=r(C),W=l(r(j),2);t(j);var $=l(j,2),S=r($),L=r(S),k=r(L),H=r(k);t(k);var D=l(k,2);{var Q=x=>{var T=tl();f(x,T)};P(D,x=>{b().length>0&&x(Q)})}t(L);var X=l(L,2);ft(X,5,b,xt,(x,T)=>{var xe=ll(),ge=r(xe),te=r(ge),re=r(te),c=r(re,!0);t(re);var m=l(re,2);{var p=se=>{var pe=rl();f(se,pe)};P(m,se=>{e(T).sold&&se(p)})}t(te);var I=l(te,2),q=r(I),le=r(q);t(q);var de=l(q,4),ae=r(de,!0);t(de),t(I),t(ge);var oe=l(ge,2),ue=r(oe),ce=l(ue,2);t(oe),t(xe),ie(se=>{B(xe,1,`flex items-center p-3 border rounded-lg hover:bg-gray-50
                            ${e(T).sold?"bg-red-50 border-red-200":""}`),F(c,e(T).name),F(le,`£${se??""}`),F(ae,e(T).sku)},[()=>e(T).price.toFixed(2)],Ce),V("click",ue,()=>{w(v,e(T)),w(h,!0)}),V("click",ce,()=>_(e(T))),f(x,xe)},x=>{var T=al();f(x,T)}),t(X),Pe(),t(S),t($);var ne=l($,2),J=r(ne),z=l(J,2);let K;var ee=r(z);{var be=x=>{var T=ol();Pe(2),f(x,T)},Z=x=>{var T=sl();f(x,T)};P(ee,x=>{e(g)?x(be):x(Z,!1)})}t(z),t(ne),t(C),t(E);var ve=l(E,2);{var M=x=>{el(x,{get showEditPrintModal(){return e(h)},set showEditPrintModal(T){w(h,T)},get editedProduct(){return e(v)},set editedProduct(T){w(v,T)},get selectedProducts(){return b()},set selectedProducts(T){b(T)},$$legacy:!0})};P(ve,x=>{e(h)&&x(M)})}ie(x=>{F(H,`You're about to print Receipts for ${b().length??""} products.`),K=B(z,1,"px-5 py-2.5 rounded-lg flex items-center justify-center min-w-[120px] disabled:opacity-50 disabled:cursor-not-allowed",null,K,x),z.disabled=e(g)||b().length===0},[()=>({"bg-blue-600":!e(g),"bg-gray-400":e(g),"hover:bg-blue-700":!e(g)})],Ce),V("click",W,()=>{a(!1)}),V("click",J,()=>{a(!1)}),V("click",z,o),f(u,n),Te()}var nl=y('<div class="absolute top-3 right-3 px-2 py-1 bg-red-100 text-red-800 text-xs font-bold rounded-full">SOLD</div>'),cl=y('<span class="ml-2 text-sm text-red-600">(Sold)</span>'),vl=y('<div><!> <div class="p-4"><div class="flex justify-between items-start"><div class="pr-2  w-[79%]"><h3 class="font-semibold text-gray-800 truncate"> </h3> <div class="mt-1"><span class="text-xl font-bold text-blue-600"> </span> <!></div></div> <button title="Edit Print Info"><svg class="w-5 h-5 text-blue-600 group-hover:text-blue-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> <span class="ml-1 text-sm font-medium text-blue-600 group-hover:text-blue-800 hidden md:inline">Edit</span></button></div> <div class="mt-3 space-y-2 text-sm text-gray-600"><div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg> <span> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="truncate"> </span></div> <div class="flex items-center"><svg class="w-4 h-4 mr-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="truncate"> </span></div></div></div> <div> </div></div>'),ul=y('<div class="col-span-full text-center py-12"><div class="text-gray-400 mb-4"><svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-xl font-semibold text-gray-700">No products found</h3> <p class="text-gray-500 mt-2"> </p></div>'),bl=y('<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>');function gl(u,d){ze(d,!1);let a=U(d,"filteredProducts",8),b=U(d,"selectedProducts",8),g=U(d,"toggleProduct",8),h=U(d,"openEditModal",8),v=U(d,"showSoldItems",8);Be();var o=bl();ft(o,5,a,xt,(_,n)=>{var E=vl(),C=r(E);{var j=p=>{var I=nl();f(p,I)};P(C,p=>{e(n).sold&&p(j)})}var W=l(C,2),$=r(W),S=r($),L=r(S),k=r(L,!0);t(L);var H=l(L,2),D=r(H),Q=r(D);t(D);var X=l(D,2);{var ne=p=>{var I=cl();f(p,I)};P(X,p=>{e(n).sold&&p(ne)})}t(H),t(S);var J=l(S,2);t($);var z=l($,2),K=r(z),ee=l(r(K),2),be=r(ee);t(ee),t(K);var Z=l(K,2),ve=l(r(Z),2),M=r(ve);t(ve),t(Z);var x=l(Z,2),T=l(r(x),2),xe=r(T);t(T),t(x);var ge=l(x,2),te=l(r(ge),2),re=r(te);t(te),t(ge),t(z),t(W);var c=l(W,2),m=r(c,!0);t(c),t(E),ie((p,I,q)=>{B(E,1,p),F(k,e(n).name),F(Q,`£${I??""}`),B(J,1,`p-2 bg-blue-50 rounded-full hover:bg-blue-100 transition-colors flex items-center group ${e(n).sold?"opacity-70":""}`),F(be,`SKU: ${e(n).sku??""}`),F(M,`IM SKU: ${e(n).imSKU??""}`),F(xe,`Seller: ${e(n).seller??""}`),F(re,`Location: ${e(n).location??""}`),B(c,1,q),F(m,e(n).sold?"Sold - Selected":"Selected")},[()=>`bg-white rounded-xl shadow-md overflow-hidden border-2 transition-all duration-200 relative cursor-pointer
                ${b().find(p=>p.id===e(n).id)?"border-blue-500 shadow-lg":"border-transparent"}
                ${e(n).sold?"opacity-80":""}`,()=>e(n).price.toFixed(2),()=>`py-1 text-center text-sm font-medium
                ${b().find(p=>p.id===e(n).id)?e(n).sold?"bg-red-100 text-red-700":"bg-blue-50 text-blue-700":"hidden"}`],Ce),V("click",J,fr(()=>h()(e(n)))),V("click",E,()=>g()(e(n))),f(_,E)},_=>{var n=ul(),E=l(r(n),4),C=r(E,!0);t(E),t(n),ie(()=>F(C,v()?"No sold items match your search":"No available items match your search")),f(_,n)}),t(o),f(u,o),Te()}var pl=Kt('<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>'),fl=y("<button><span> </span> <!></button>"),xl=y('<div class="bg-white rounded-xl shadow-lg p-4 mb-2"><div class="relative mb-4"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><svg class="w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <input type="text" class="text-black w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Search by name, SKU, seller or location..."></div> <div class="flex flex-wrap gap-2 mt-2"><div class="flex flex-wrap gap-2"></div> <div class="flex flex-wrap gap-2 ml-auto "><button class="flex items-center min-w-[220px] px-4 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"><!> </button> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Refresh stock"><!></button></div> <button class="px-4 py-2.5 rounded-lg font-medium flex items-center bg-green-600/80 text-white hover:bg-green-600 transition-colors" title="Add stock"><!></button></div></div>');function ml(u,d){ze(d,!1);let a=U(d,"searchTerm",12,""),b=U(d,"fetchProducts",8),g=U(d,"showPrintModal",12),h=U(d,"selectedProducts",8),v=U(d,"showAddProductModal",12),o=U(d,"handleSort",8),_=U(d,"sortConfig",8),n=U(d,"sortOptions",24,()=>[]);Be();var E=xl(),C=r(E),j=l(r(C),2);O(j),t(C);var W=l(C,2),$=r(W);ft($,5,n,xt,(J,z)=>{var K=fl(),ee=r(K),be=r(ee,!0);t(ee);var Z=l(ee,2);{var ve=M=>{var x=pl();ie(()=>B(x,0,`ml-1.5 w-4 h-4 ${_().direction==="asc"?"":"transform rotate-180"}`)),f(M,x)};P(Z,M=>{_().key===e(z).id&&M(ve)})}t(K),ie(()=>{B(K,1,`px-3 py-1.5 text-sm rounded-full border transition-colors flex items-center
                  ${_().key===e(z).id?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-100 border-gray-200 text-gray-700 hover:bg-gray-200"}`),F(be,e(z).name)}),V("click",K,()=>o()(e(z).id)),f(J,K)}),t($);var S=l($,2),L=r(S),k=r(L);Vt(k,{size:30,class:"mr-2"});var H=l(k);t(L);var D=l(L,2),Q=r(D);hr(Q,{size:30,class:""}),t(D),t(S);var X=l(S,2),ne=r(X);yr(ne,{size:30,class:""}),t(X),t(W),t(E),ie(()=>{L.disabled=h().length===0,F(H,` Print Selected (${h().length??""})`)}),R(j,a),V("click",L,()=>{g(!0)}),V("click",D,function(...J){var z;(z=b())==null||z.apply(this,J)}),V("click",X,()=>{v(!0)}),f(u,E),Te()}var yl=y('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div> <span class="ml-3 text-gray-600">Loading products...</span></div>'),hl=y('<div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-red-700"> </p> <button class="mt-2 px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200">Retry</button></div></div></div>'),wl=y('<div class="mt-6 flex justify-center"><button class="px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 hover:bg-gray-50 text-gray-700"> </button></div>'),_l=y('<!> <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <span class="font-medium">Total Items</span></div> <div class="text-3xl text-black font-bold mt-2"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Available</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div> <div class="bg-white rounded-xl shadow p-5"><div class="text-gray-500 flex items-center"><svg class="w-6 h-6 mr-2 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium">Sold</span></div> <div class="text-3xl font-bold mt-2 text-black"> </div></div></div> <!> <!>',1),kl=y('<button class="fab-enter fixed bottom-6 right-6 z-50 p-4 bg-blue-600 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white flex items-center justify-center svelte-7fy406"><!> <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center"> </span></button>'),Pl=y('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-4 md:p-8"><div class="max-w-7xl mx-auto"><div class="mb-8 text-center"><h1 class="text-3xl md:text-4xl font-bold text-gray-800">Iain Marr Antiques</h1> <p class="text-gray-600 mt-2">Inventory Management System</p></div> <!></div> <!> <!> <!> <!></div>');function jl(u,d){ze(d,!1);const a=Y(),b=Y();let g=Y([]),h=Y([]),v=Y(""),o=Y(!1),_=Y(!1),n=Y(null),E=Y("products"),C=Y(!1),j=Y(!1),W=Y(null),$=Y(!0),S=Y({key:"sku",direction:"asc"}),L=Y([{id:"sku",name:"SKU"},{id:"name",name:"Name"},{id:"price",name:"Price"}]);const k=(c,m,p="")=>c[m]!==void 0&&c[m]!==""?c[m]:p;async function H(){try{w(j,!0),w(W,null);const c=await fetch(yt+"/get_stock",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const m=await c.json();w(g,m.map(p=>({id:k(p,"SKU NO.",""),name:k(p,"ITEM DESCRIPTION",""),price:Number(k(p,"SELLING PRICE",0)),imSKU:k(p,"IM SKU",""),sku:k(p,"SKU NO.",""),purchasePrice:Number(k(p,"PURCHASE PRICE",0)),seller:k(p,"NAME/ADDRESS SELLER",""),dateBought:k(p,"DATE BOUGHT",""),sold:k(p,"SOLD","FALSE")==="TRUE",commission:k(p,"Commission £",0),dateSold:k(p,"DATE SOLD",""),invoiceNo:k(p,"INVOICE NO. XERO",""),onWebsite:k(p,"ON WEBSITE","FALSE")==="TRUE",location:k(p,"location","")})))}catch(c){console.error("Failed to fetch products:",c),w(W,"Failed to load products. Please try again later.")}finally{w(j,!1)}}Wt(H);function D(c){let m="asc";e(S).key===c&&e(S).direction==="asc"&&(m="desc"),w(S,{key:c,direction:m})}function Q(c){e(h).find(m=>m.id===c.id)?w(h,e(h).filter(m=>m.id!==c.id)):w(h,[...e(h),{...c}])}function X(){e(h).length===e(b).length?w(h,[]):w(h,[...e(b)])}function ne(c){w(n,{...c}),w(E,"products"),w(o,!0)}function J(){w(C,!0)}Et(()=>(e(g),e(S)),()=>{w(a,[...e(g)].sort((c,m)=>{let p=c[e(S).key],I=m[e(S).key];if(e(S).key==="sku")return e(S).direction==="asc"?0:-1;if(typeof p=="number"&&typeof I=="number")return e(S).direction==="asc"?p-I:I-p;if(typeof p=="string"&&typeof I=="string"){if(p=p.toLowerCase(),I=I.toLowerCase(),p<I)return e(S).direction==="asc"?-1:1;if(p>I)return e(S).direction==="asc"?1:-1}return 0}))}),Et(()=>(e(a),e($),e(v)),()=>{w(b,e(a).filter(c=>(e($)||!c.sold)&&(String(c.name||"").toLowerCase().includes(e(v).toLowerCase())||String(c.imSKU||"").toLowerCase().includes(e(v).toLowerCase())||String(c.sku||"").toLowerCase().includes(e(v).toLowerCase())||String(c.seller||"").toLowerCase().includes(e(v).toLowerCase())||String(c.location||"").toLowerCase().includes(e(v).toLowerCase()))))}),Ft(),Be();var z=Pl();tr(c=>{gr.title="Iain Marr Antiques"});var K=r(z),ee=l(r(K),2);{var be=c=>{var m=yl();f(c,m)},Z=(c,m)=>{{var p=q=>{var le=hl(),de=r(le),ae=l(r(de),2),oe=r(ae),ue=r(oe,!0);t(oe);var ce=l(oe,2);t(ae),t(de),t(le),ie(()=>F(ue,e(W))),V("click",ce,H),f(q,le)},I=q=>{var le=_l(),de=Ae(le);ml(de,{handleSort:D,openPrintModal:J,fetchProducts:H,get sortConfig(){return e(S)},set sortConfig(A){w(S,A)},get sortOptions(){return e(L)},set sortOptions(A){w(L,A)},get showAddProductModal(){return e(_)},set showAddProductModal(A){w(_,A)},get searchTerm(){return e(v)},set searchTerm(A){w(v,A)},get showSoldItems(){return e($)},set showSoldItems(A){w($,A)},get showPrintModal(){return e(C)},set showPrintModal(A){w(C,A)},get selectedProducts(){return e(h)},set selectedProducts(A){w(h,A)},$$legacy:!0});var ae=l(de,2),oe=r(ae),ue=l(r(oe),2),ce=r(ue,!0);t(ue),t(oe);var se=l(oe,2),pe=l(r(se),2),Se=r(pe,!0);t(pe),t(se);var he=l(se,2),me=l(r(he),2),we=r(me,!0);t(me),t(he),t(ae);var _e=l(ae,2);gl(_e,{toggleProduct:Q,openEditModal:ne,get filteredProducts(){return e(b)},set filteredProducts(A){w(b,A)},get selectedProducts(){return e(h)},set selectedProducts(A){w(h,A)},get showSoldItems(){return e($)},set showSoldItems(A){w($,A)},$$legacy:!0});var Oe=l(_e,2);{var Ue=A=>{var fe=wl(),Ee=r(fe),Ie=r(Ee,!0);t(Ee),t(fe),ie(()=>F(Ie,e(h).length===e(b).length?"Deselect All":"Select All")),V("click",Ee,X),f(A,fe)};P(Oe,A=>{e(b).length>0&&A(Ue)})}ie((A,fe)=>{F(ce,e(g).length),F(Se,A),F(we,fe)},[()=>e(g).filter(A=>!A.sold).length,()=>e(g).filter(A=>A.sold).length],Ce),f(q,le)};P(c,q=>{e(W)?q(p):q(I,!1)},m)}};P(ee,c=>{e(j)?c(be):c(Z,!1)})}t(K);var ve=l(K,2);{var M=c=>{var m=kl(),p=r(m);Vt(p,{size:30});var I=l(p,2),q=r(I,!0);t(I),t(m),ie(()=>F(q,e(h).length)),V("click",m,J),f(c,m)};P(ve,c=>{e(h).length>0&&c(M)})}var x=l(ve,2);{var T=c=>{Yr(c,{get editedProduct(){return e(n)},set editedProduct(m){w(n,m)},get showEditProductModal(){return e(o)},set showEditProductModal(m){w(o,m)},get activeTab(){return e(E)},set activeTab(m){w(E,m)},get products(){return e(g)},set products(m){w(g,m)},$$legacy:!0})};P(x,c=>{e(o)&&c(T)})}var xe=l(x,2);{var ge=c=>{Br(c,{get showAddProductModal(){return e(_)},set showAddProductModal(m){w(_,m)},get products(){return e(g)},set products(m){w(g,m)},$$legacy:!0})};P(xe,c=>{e(_)&&c(ge)})}var te=l(xe,2);{var re=c=>{il(c,{get selectedProducts(){return e(h)},set selectedProducts(m){w(h,m)},get showPrintModal(){return e(C)},set showPrintModal(m){w(C,m)},$$legacy:!0})};P(te,c=>{e(C)&&c(re)})}t(z),f(u,z),Te()}export{jl as component};
